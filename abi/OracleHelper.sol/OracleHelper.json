{"abi":[{"type":"error","name":"OracleHelper__InvalidOracleId","inputs":[]},{"type":"error","name":"OracleHelper__LookUpTimestampTooOld","inputs":[]},{"type":"error","name":"OracleHelper__NewLengthTooSmall","inputs":[]}],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220a7743cb66c5d375e7e4fc9edcb69b0a0a83763ab4dee4d1895b5ae426ce5c6ac64736f6c63430008140033","sourceMap":"728:8604:105:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;728:8604:105;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220a7743cb66c5d375e7e4fc9edcb69b0a0a83763ab4dee4d1895b5ae426ce5c6ac64736f6c63430008140033","sourceMap":"728:8604:105:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"OracleHelper__InvalidOracleId\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OracleHelper__LookUpTimestampTooOld\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OracleHelper__NewLengthTooSmall\",\"type\":\"error\"}],\"devdoc\":{\"author\":\"Trader Sovryn LB\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Liquidity Book Oracle Helper Library\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"This library contains functions to manage the oracle The oracle samples are stored in a single bytes32 array. Each sample is encoded as follows: 0 - 16: oracle length (16 bits) 16 - 80: cumulative id (64 bits) 80 - 144: cumulative volatility accumulator (64 bits) 144 - 208: cumulative bin crossed (64 bits) 208 - 216: sample lifetime (8 bits) 216 - 256: sample creation timestamp (40 bits)\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/libraries/OracleHelper.sol\":\"OracleHelper\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\"]},\"sources\":{\"src/libraries/Constants.sol\":{\"keccak256\":\"0x9e8f98ab393cf7f0a7a0774b9f0f912ec5dd86fdfdd041423978f3d6acce21e2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://82b49fa2c74c482822957cc7bd9ba693e077c9024451be40f4a1037e2d5cf009\",\"dweb:/ipfs/QmbMP3LSYQttZhiPb2hpM7k1697HBo93Bi6DgQGoZZZ3ZD\"]},\"src/libraries/OracleHelper.sol\":{\"keccak256\":\"0xbc5a289b8a931f42d02af2d68fdedcb5a9cb847a5927f170b02551c5e65bf2f9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://773c0b6b1e6ab9a33e81a9b55f4a76082bb88501e75dad73b9a4e18fa8f302f5\",\"dweb:/ipfs/QmeSDqPcduZpSdUGn49v19Uhc8fZFgg7Sv3Lw5N9rRqWTj\"]},\"src/libraries/PairParameterHelper.sol\":{\"keccak256\":\"0xcc632c91ba3c5d4f749fe7ed78fdb19e3bde4fc8948aa46060cd8995474dd0d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://eedc0239528182198ea0d407383013bbccbf6532bb27c5066ff0776b02fd65e1\",\"dweb:/ipfs/QmR5yYS9ferSWq3VGb6Qw6v1cQeZKXgeQCzP4wvDNekx4f\"]},\"src/libraries/math/Encoded.sol\":{\"keccak256\":\"0xa6752b1d81568f242adc2bbeb45fbc143c08dade1910ce5d27ff97067c4029ba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a1adf21fef72586d0b057fe6cbabb1e928fdbb54bf89b9fa9bcf798dfeb533d8\",\"dweb:/ipfs/QmQr8MgwAdZoVM4LCdXgWTtCcw8HkR6Sp9huc7U45tELwY\"]},\"src/libraries/math/SafeCast.sol\":{\"keccak256\":\"0x6f11de18a77cf44364a598890c634a59d995dfa7a3fdea360d98e4549f6727ed\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d8a4477235fd194ab6464025148d1c2ff51088b0ffba4013e25a10d01c11722e\",\"dweb:/ipfs/QmVNf6Psg6QXFcWa3CMmUxJkvGaN8Z2SqFafsyJukgfZva\"]},\"src/libraries/math/SampleMath.sol\":{\"keccak256\":\"0x4fc4700a17265e56bd5f90e45ca0ed1cc1b7dec111d5957fb288265434979b63\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d34922932117cbd01dd8a10d9efbc9a9ebd2ae321425ea0fe00b6a2661224f20\",\"dweb:/ipfs/QmQDvaxoYCupk6fuDxicxZLmWzudTdw6fRj7i2g6Lxstfr\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"OracleHelper__InvalidOracleId"},{"inputs":[],"type":"error","name":"OracleHelper__LookUpTimestampTooOld"},{"inputs":[],"type":"error","name":"OracleHelper__NewLengthTooSmall"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":800},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/libraries/OracleHelper.sol":"OracleHelper"},"evmVersion":"paris","libraries":{}},"sources":{"src/libraries/Constants.sol":{"keccak256":"0x9e8f98ab393cf7f0a7a0774b9f0f912ec5dd86fdfdd041423978f3d6acce21e2","urls":["bzz-raw://82b49fa2c74c482822957cc7bd9ba693e077c9024451be40f4a1037e2d5cf009","dweb:/ipfs/QmbMP3LSYQttZhiPb2hpM7k1697HBo93Bi6DgQGoZZZ3ZD"],"license":"MIT"},"src/libraries/OracleHelper.sol":{"keccak256":"0xbc5a289b8a931f42d02af2d68fdedcb5a9cb847a5927f170b02551c5e65bf2f9","urls":["bzz-raw://773c0b6b1e6ab9a33e81a9b55f4a76082bb88501e75dad73b9a4e18fa8f302f5","dweb:/ipfs/QmeSDqPcduZpSdUGn49v19Uhc8fZFgg7Sv3Lw5N9rRqWTj"],"license":"MIT"},"src/libraries/PairParameterHelper.sol":{"keccak256":"0xcc632c91ba3c5d4f749fe7ed78fdb19e3bde4fc8948aa46060cd8995474dd0d3","urls":["bzz-raw://eedc0239528182198ea0d407383013bbccbf6532bb27c5066ff0776b02fd65e1","dweb:/ipfs/QmR5yYS9ferSWq3VGb6Qw6v1cQeZKXgeQCzP4wvDNekx4f"],"license":"MIT"},"src/libraries/math/Encoded.sol":{"keccak256":"0xa6752b1d81568f242adc2bbeb45fbc143c08dade1910ce5d27ff97067c4029ba","urls":["bzz-raw://a1adf21fef72586d0b057fe6cbabb1e928fdbb54bf89b9fa9bcf798dfeb533d8","dweb:/ipfs/QmQr8MgwAdZoVM4LCdXgWTtCcw8HkR6Sp9huc7U45tELwY"],"license":"MIT"},"src/libraries/math/SafeCast.sol":{"keccak256":"0x6f11de18a77cf44364a598890c634a59d995dfa7a3fdea360d98e4549f6727ed","urls":["bzz-raw://d8a4477235fd194ab6464025148d1c2ff51088b0ffba4013e25a10d01c11722e","dweb:/ipfs/QmVNf6Psg6QXFcWa3CMmUxJkvGaN8Z2SqFafsyJukgfZva"],"license":"MIT"},"src/libraries/math/SampleMath.sol":{"keccak256":"0x4fc4700a17265e56bd5f90e45ca0ed1cc1b7dec111d5957fb288265434979b63","urls":["bzz-raw://d34922932117cbd01dd8a10d9efbc9a9ebd2ae321425ea0fe00b6a2661224f20","dweb:/ipfs/QmQDvaxoYCupk6fuDxicxZLmWzudTdw6fRj7i2g6Lxstfr"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/libraries/OracleHelper.sol","id":72728,"exportedSymbols":{"OracleHelper":[72727],"PairParameterHelper":[73584],"SafeCast":[75752],"SampleMath":[76177]},"nodeType":"SourceUnit","src":"33:9300:105","nodes":[{"id":72072,"nodeType":"PragmaDirective","src":"33:24:105","nodes":[],"literals":["solidity","^","0.8",".10"]},{"id":72074,"nodeType":"ImportDirective","src":"59:49:105","nodes":[],"absolutePath":"src/libraries/math/SampleMath.sol","file":"./math/SampleMath.sol","nameLocation":"-1:-1:-1","scope":72728,"sourceUnit":76178,"symbolAliases":[{"foreign":{"id":72073,"name":"SampleMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":76177,"src":"67:10:105","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":72076,"nodeType":"ImportDirective","src":"109:45:105","nodes":[],"absolutePath":"src/libraries/math/SafeCast.sol","file":"./math/SafeCast.sol","nameLocation":"-1:-1:-1","scope":72728,"sourceUnit":75753,"symbolAliases":[{"foreign":{"id":72075,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":75752,"src":"117:8:105","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":72078,"nodeType":"ImportDirective","src":"155:62:105","nodes":[],"absolutePath":"src/libraries/PairParameterHelper.sol","file":"./PairParameterHelper.sol","nameLocation":"-1:-1:-1","scope":72728,"sourceUnit":73585,"symbolAliases":[{"foreign":{"id":72077,"name":"PairParameterHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73584,"src":"163:19:105","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":72727,"nodeType":"ContractDefinition","src":"728:8604:105","nodes":[{"id":72082,"nodeType":"UsingForDirective","src":"755:29:105","nodes":[],"global":false,"libraryName":{"id":72080,"name":"SampleMath","nameLocations":["761:10:105"],"nodeType":"IdentifierPath","referencedDeclaration":76177,"src":"761:10:105"},"typeName":{"id":72081,"name":"bytes32","nodeType":"ElementaryTypeName","src":"776:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":72085,"nodeType":"UsingForDirective","src":"789:27:105","nodes":[],"global":false,"libraryName":{"id":72083,"name":"SafeCast","nameLocations":["795:8:105"],"nodeType":"IdentifierPath","referencedDeclaration":75752,"src":"795:8:105"},"typeName":{"id":72084,"name":"uint256","nodeType":"ElementaryTypeName","src":"808:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":72088,"nodeType":"UsingForDirective","src":"821:38:105","nodes":[],"global":false,"libraryName":{"id":72086,"name":"PairParameterHelper","nameLocations":["827:19:105"],"nodeType":"IdentifierPath","referencedDeclaration":73584,"src":"827:19:105"},"typeName":{"id":72087,"name":"bytes32","nodeType":"ElementaryTypeName","src":"851:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":72090,"nodeType":"ErrorDefinition","src":"865:38:105","nodes":[],"errorSelector":"944e1139","name":"OracleHelper__InvalidOracleId","nameLocation":"871:29:105","parameters":{"id":72089,"nodeType":"ParameterList","parameters":[],"src":"900:2:105"}},{"id":72092,"nodeType":"ErrorDefinition","src":"908:40:105","nodes":[],"errorSelector":"b15d5d04","name":"OracleHelper__NewLengthTooSmall","nameLocation":"914:31:105","parameters":{"id":72091,"nodeType":"ParameterList","parameters":[],"src":"945:2:105"}},{"id":72094,"nodeType":"ErrorDefinition","src":"953:44:105","nodes":[],"errorSelector":"7139fe54","name":"OracleHelper__LookUpTimestampTooOld","nameLocation":"959:35:105","parameters":{"id":72093,"nodeType":"ParameterList","parameters":[],"src":"994:2:105"}},{"id":72099,"nodeType":"StructDefinition","src":"1003:53:105","nodes":[],"canonicalName":"OracleHelper.Oracle","members":[{"constant":false,"id":72098,"mutability":"mutable","name":"samples","nameLocation":"1042:7:105","nodeType":"VariableDeclaration","scope":72099,"src":"1027:22:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage_ptr","typeString":"bytes32[65535]"},"typeName":{"baseType":{"id":72095,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1027:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72097,"length":{"hexValue":"3635353335","id":72096,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1035:5:105","typeDescriptions":{"typeIdentifier":"t_rational_65535_by_1","typeString":"int_const 65535"},"value":"65535"},"nodeType":"ArrayTypeName","src":"1027:14:105","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage_ptr","typeString":"bytes32[65535]"}},"visibility":"internal"}],"name":"Oracle","nameLocation":"1010:6:105","scope":72727,"visibility":"public"},{"id":72102,"nodeType":"VariableDeclaration","src":"1062:60:105","nodes":[],"constant":true,"mutability":"constant","name":"_MAX_SAMPLE_LIFETIME","nameLocation":"1088:20:105","scope":72727,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72100,"name":"uint256","nodeType":"ElementaryTypeName","src":"1062:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313230","id":72101,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1111:11:105","subdenomination":"seconds","typeDescriptions":{"typeIdentifier":"t_rational_120_by_1","typeString":"int_const 120"},"value":"120"},"visibility":"internal"},{"id":72113,"nodeType":"ModifierDefinition","src":"1240:92:105","nodes":[],"body":{"id":72112,"nodeType":"Block","src":"1280:52:105","nodes":[],"statements":[{"expression":{"arguments":[{"id":72108,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72105,"src":"1305:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72107,"name":"_checkOracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72726,"src":"1290:14:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint16_$returns$__$","typeString":"function (uint16) pure"}},"id":72109,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1290:24:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72110,"nodeType":"ExpressionStatement","src":"1290:24:105"},{"id":72111,"nodeType":"PlaceholderStatement","src":"1324:1:105"}]},"documentation":{"id":72103,"nodeType":"StructuredDocumentation","src":"1129:106:105","text":" @dev Modifier to check that the oracle id is valid\n @param oracleId The oracle id"},"name":"checkOracleId","nameLocation":"1249:13:105","parameters":{"id":72106,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72105,"mutability":"mutable","name":"oracleId","nameLocation":"1270:8:105","nodeType":"VariableDeclaration","scope":72113,"src":"1263:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72104,"name":"uint16","nodeType":"ElementaryTypeName","src":"1263:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"1262:17:105"},"virtual":false,"visibility":"internal"},{"id":72138,"nodeType":"FunctionDefinition","src":"1509:246:105","nodes":[],"body":{"id":72137,"nodeType":"Block","src":"1667:88:105","nodes":[],"statements":[{"id":72136,"nodeType":"UncheckedBlock","src":"1677:72:105","statements":[{"expression":{"id":72134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72127,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72125,"src":"1701:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"expression":{"id":72128,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72117,"src":"1710:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},"id":72129,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1717:7:105","memberName":"samples","nodeType":"MemberAccess","referencedDeclaration":72098,"src":"1710:14:105","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage","typeString":"bytes32[65535] storage ref"}},"id":72133,"indexExpression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72132,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72130,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72119,"src":"1725:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":72131,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1736:1:105","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1725:12:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1710:28:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"1701:37:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72135,"nodeType":"ExpressionStatement","src":"1701:37:105"}]}]},"documentation":{"id":72114,"nodeType":"StructuredDocumentation","src":"1338:166:105","text":" @dev Returns the sample at the given oracleId\n @param oracle The oracle\n @param oracleId The oracle id\n @return sample The sample"},"implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72122,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72119,"src":"1620:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"id":72123,"kind":"modifierInvocation","modifierName":{"id":72121,"name":"checkOracleId","nameLocations":["1606:13:105"],"nodeType":"IdentifierPath","referencedDeclaration":72113,"src":"1606:13:105"},"nodeType":"ModifierInvocation","src":"1606:23:105"}],"name":"getSample","nameLocation":"1518:9:105","parameters":{"id":72120,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72117,"mutability":"mutable","name":"oracle","nameLocation":"1543:6:105","nodeType":"VariableDeclaration","scope":72138,"src":"1528:21:105","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"},"typeName":{"id":72116,"nodeType":"UserDefinedTypeName","pathNode":{"id":72115,"name":"Oracle","nameLocations":["1528:6:105"],"nodeType":"IdentifierPath","referencedDeclaration":72099,"src":"1528:6:105"},"referencedDeclaration":72099,"src":"1528:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"}},"visibility":"internal"},{"constant":false,"id":72119,"mutability":"mutable","name":"oracleId","nameLocation":"1558:8:105","nodeType":"VariableDeclaration","scope":72138,"src":"1551:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72118,"name":"uint16","nodeType":"ElementaryTypeName","src":"1551:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"1527:40:105"},"returnParameters":{"id":72126,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72125,"mutability":"mutable","name":"sample","nameLocation":"1655:6:105","nodeType":"VariableDeclaration","scope":72138,"src":"1647:14:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72124,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1647:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1646:16:105"},"scope":72727,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":72188,"nodeType":"FunctionDefinition","src":"2020:471:105","nodes":[],"body":{"id":72187,"nodeType":"Block","src":"2184:307:105","nodes":[],"statements":[{"expression":{"id":72156,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72151,"name":"activeSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72147,"src":"2194:12:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":72153,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72142,"src":"2219:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72154,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72144,"src":"2227:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72152,"name":"getSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72138,"src":"2209:9:105","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$returns$_t_bytes32_$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16) view returns (bytes32)"}},"id":72155,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2209:27:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2194:42:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72157,"nodeType":"ExpressionStatement","src":"2194:42:105"},{"expression":{"id":72162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72158,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72149,"src":"2246:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72159,"name":"activeSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72147,"src":"2259:12:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72160,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2272:15:105","memberName":"getOracleLength","nodeType":"MemberAccess","referencedDeclaration":75871,"src":"2259:28:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint16_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint16)"}},"id":72161,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2259:30:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"2246:43:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":72163,"nodeType":"ExpressionStatement","src":"2246:43:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72164,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72144,"src":"2304:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":72165,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72149,"src":"2316:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"2304:22:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72186,"nodeType":"IfStatement","src":"2300:185:105","trueBody":{"id":72185,"nodeType":"Block","src":"2328:157:105","statements":[{"expression":{"id":72174,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72167,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72149,"src":"2342:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":72169,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72142,"src":"2365:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72170,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72149,"src":"2373:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72168,"name":"getSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72138,"src":"2355:9:105","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$returns$_t_bytes32_$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16) view returns (bytes32)"}},"id":72171,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2355:29:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72172,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2385:15:105","memberName":"getOracleLength","nodeType":"MemberAccess","referencedDeclaration":75871,"src":"2355:45:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint16_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint16)"}},"id":72173,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2355:47:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"2342:60:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":72175,"nodeType":"ExpressionStatement","src":"2342:60:105"},{"expression":{"id":72183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72176,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72149,"src":"2416:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72177,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72144,"src":"2429:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":72178,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72149,"src":"2440:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"2429:21:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":72181,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72149,"src":"2464:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":72182,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"2429:45:105","trueExpression":{"id":72180,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72144,"src":"2453:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"2416:58:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":72184,"nodeType":"ExpressionStatement","src":"2416:58:105"}]}}]},"documentation":{"id":72139,"nodeType":"StructuredDocumentation","src":"1761:254:105","text":" @dev Returns the active sample and the active size of the oracle\n @param oracle The oracle\n @param oracleId The oracle id\n @return activeSample The active sample\n @return activeSize The active size of the oracle"},"implemented":true,"kind":"function","modifiers":[],"name":"getActiveSampleAndSize","nameLocation":"2029:22:105","parameters":{"id":72145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72142,"mutability":"mutable","name":"oracle","nameLocation":"2067:6:105","nodeType":"VariableDeclaration","scope":72188,"src":"2052:21:105","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"},"typeName":{"id":72141,"nodeType":"UserDefinedTypeName","pathNode":{"id":72140,"name":"Oracle","nameLocations":["2052:6:105"],"nodeType":"IdentifierPath","referencedDeclaration":72099,"src":"2052:6:105"},"referencedDeclaration":72099,"src":"2052:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"}},"visibility":"internal"},{"constant":false,"id":72144,"mutability":"mutable","name":"oracleId","nameLocation":"2082:8:105","nodeType":"VariableDeclaration","scope":72188,"src":"2075:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72143,"name":"uint16","nodeType":"ElementaryTypeName","src":"2075:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"2051:40:105"},"returnParameters":{"id":72150,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72147,"mutability":"mutable","name":"activeSample","nameLocation":"2147:12:105","nodeType":"VariableDeclaration","scope":72188,"src":"2139:20:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72146,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2139:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":72149,"mutability":"mutable","name":"activeSize","nameLocation":"2168:10:105","nodeType":"VariableDeclaration","scope":72188,"src":"2161:17:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72148,"name":"uint16","nodeType":"ElementaryTypeName","src":"2161:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"2138:41:105"},"scope":72727,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":72299,"nodeType":"FunctionDefinition","src":"2984:1313:105","nodes":[],"body":{"id":72298,"nodeType":"Block","src":"3218:1079:105","nodes":[],"statements":[{"assignments":[72208,72210],"declarations":[{"constant":false,"id":72208,"mutability":"mutable","name":"activeSample","nameLocation":"3237:12:105","nodeType":"VariableDeclaration","scope":72298,"src":"3229:20:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72207,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3229:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":72210,"mutability":"mutable","name":"activeSize","nameLocation":"3258:10:105","nodeType":"VariableDeclaration","scope":72298,"src":"3251:17:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72209,"name":"uint16","nodeType":"ElementaryTypeName","src":"3251:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"id":72215,"initialValue":{"arguments":[{"id":72212,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72192,"src":"3295:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72213,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72194,"src":"3303:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72211,"name":"getActiveSampleAndSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72188,"src":"3272:22:105","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$returns$_t_bytes32_$_t_uint16_$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16) view returns (bytes32,uint16)"}},"id":72214,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3272:40:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_uint16_$","typeString":"tuple(bytes32,uint16)"}},"nodeType":"VariableDeclarationStatement","src":"3228:84:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72225,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"baseExpression":{"expression":{"id":72216,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72192,"src":"3327:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},"id":72217,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3334:7:105","memberName":"samples","nodeType":"MemberAccess","referencedDeclaration":72098,"src":"3327:14:105","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage","typeString":"bytes32[65535] storage ref"}},"id":72221,"indexExpression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72220,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72218,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72194,"src":"3342:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":72219,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72210,"src":"3353:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"3342:21:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3327:37:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72222,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3365:19:105","memberName":"getSampleLastUpdate","nodeType":"MemberAccess","referencedDeclaration":75960,"src":"3327:57:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint40_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint40)"}},"id":72223,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3327:59:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":72224,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72196,"src":"3389:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"3327:77:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72230,"nodeType":"IfStatement","src":"3323:152:105","trueBody":{"id":72229,"nodeType":"Block","src":"3406:69:105","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72226,"name":"OracleHelper__LookUpTimestampTooOld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72094,"src":"3427:35:105","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3427:37:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72228,"nodeType":"RevertStatement","src":"3420:44:105"}]}},{"expression":{"id":72235,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72231,"name":"lastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72199,"src":"3485:10:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72232,"name":"activeSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72208,"src":"3498:12:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3511:19:105","memberName":"getSampleLastUpdate","nodeType":"MemberAccess","referencedDeclaration":75960,"src":"3498:32:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint40_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint40)"}},"id":72234,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3498:34:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"3485:47:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"id":72236,"nodeType":"ExpressionStatement","src":"3485:47:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72239,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72237,"name":"lastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72199,"src":"3546:10:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":72238,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72196,"src":"3560:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"3546:29:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":72257,"nodeType":"Block","src":"3817:53:105","statements":[{"expression":{"id":72255,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72253,"name":"lastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72199,"src":"3831:10:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72254,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72196,"src":"3844:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"3831:28:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"id":72256,"nodeType":"ExpressionStatement","src":"3831:28:105"}]},"id":72258,"nodeType":"IfStatement","src":"3542:328:105","trueBody":{"id":72252,"nodeType":"Block","src":"3577:234:105","statements":[{"expression":{"components":[{"id":72240,"name":"lastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72199,"src":"3616:10:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72241,"name":"activeSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72208,"src":"3644:12:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72242,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3657:15:105","memberName":"getCumulativeId","nodeType":"MemberAccess","referencedDeclaration":75885,"src":"3644:28:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint64_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint64)"}},"id":72243,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3644:30:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72244,"name":"activeSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72208,"src":"3692:12:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72245,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3705:23:105","memberName":"getCumulativeVolatility","nodeType":"MemberAccess","referencedDeclaration":75899,"src":"3692:36:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint64_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint64)"}},"id":72246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3692:38:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72247,"name":"activeSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72208,"src":"3748:12:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3761:23:105","memberName":"getCumulativeBinCrossed","nodeType":"MemberAccess","referencedDeclaration":75913,"src":"3748:36:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint64_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint64)"}},"id":72249,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3748:38:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"id":72250,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3598:202:105","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint40_$_t_uint64_$_t_uint64_$_t_uint64_$","typeString":"tuple(uint40,uint64,uint64,uint64)"}},"functionReturnParameters":72206,"id":72251,"nodeType":"Return","src":"3591:209:105"}]}},{"assignments":[72260,72262],"declarations":[{"constant":false,"id":72260,"mutability":"mutable","name":"prevSample","nameLocation":"3888:10:105","nodeType":"VariableDeclaration","scope":72298,"src":"3880:18:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72259,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3880:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":72262,"mutability":"mutable","name":"nextSample","nameLocation":"3908:10:105","nodeType":"VariableDeclaration","scope":72298,"src":"3900:18:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72261,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3900:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":72269,"initialValue":{"arguments":[{"id":72264,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72192,"src":"3935:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72265,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72194,"src":"3943:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":72266,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72196,"src":"3953:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},{"id":72267,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72210,"src":"3970:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_uint40","typeString":"uint40"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72263,"name":"binarySearch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72425,"src":"3922:12:105","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$_t_uint40_$_t_uint16_$returns$_t_bytes32_$_t_bytes32_$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16,uint40,uint16) view returns (bytes32,bytes32)"}},"id":72268,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3922:59:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes32_$","typeString":"tuple(bytes32,bytes32)"}},"nodeType":"VariableDeclarationStatement","src":"3879:102:105"},{"assignments":[72271],"declarations":[{"constant":false,"id":72271,"mutability":"mutable","name":"weightPrev","nameLocation":"3998:10:105","nodeType":"VariableDeclaration","scope":72298,"src":"3991:17:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":72270,"name":"uint40","nodeType":"ElementaryTypeName","src":"3991:6:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"}],"id":72277,"initialValue":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72276,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72272,"name":"nextSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72262,"src":"4011:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4022:19:105","memberName":"getSampleLastUpdate","nodeType":"MemberAccess","referencedDeclaration":75960,"src":"4011:30:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint40_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint40)"}},"id":72274,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4011:32:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":72275,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72196,"src":"4046:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"4011:50:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"VariableDeclarationStatement","src":"3991:70:105"},{"assignments":[72279],"declarations":[{"constant":false,"id":72279,"mutability":"mutable","name":"weightNext","nameLocation":"4078:10:105","nodeType":"VariableDeclaration","scope":72298,"src":"4071:17:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":72278,"name":"uint40","nodeType":"ElementaryTypeName","src":"4071:6:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"}],"id":72285,"initialValue":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72280,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72196,"src":"4091:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72281,"name":"prevSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72260,"src":"4109:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4120:19:105","memberName":"getSampleLastUpdate","nodeType":"MemberAccess","referencedDeclaration":75960,"src":"4109:30:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint40_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint40)"}},"id":72283,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4109:32:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"4091:50:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"VariableDeclarationStatement","src":"4071:70:105"},{"expression":{"id":72296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":72286,"name":"cumulativeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72201,"src":"4153:12:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},{"id":72287,"name":"cumulativeVolatility","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72203,"src":"4167:20:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},{"id":72288,"name":"cumulativeBinCrossed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72205,"src":"4189:20:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"id":72289,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"4152:58:105","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint64_$_t_uint64_$_t_uint64_$","typeString":"tuple(uint64,uint64,uint64)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":72292,"name":"nextSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72262,"src":"4255:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":72293,"name":"weightPrev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72271,"src":"4267:10:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},{"id":72294,"name":"weightNext","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72279,"src":"4279:10:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint40","typeString":"uint40"},{"typeIdentifier":"t_uint40","typeString":"uint40"}],"expression":{"id":72290,"name":"prevSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72260,"src":"4225:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72291,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4236:18:105","memberName":"getWeightedAverage","nodeType":"MemberAccess","referencedDeclaration":76109,"src":"4225:29:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$_t_uint40_$_t_uint40_$returns$_t_uint64_$_t_uint64_$_t_uint64_$attached_to$_t_bytes32_$","typeString":"function (bytes32,bytes32,uint40,uint40) pure returns (uint64,uint64,uint64)"}},"id":72295,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4225:65:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint64_$_t_uint64_$_t_uint64_$","typeString":"tuple(uint64,uint64,uint64)"}},"src":"4152:138:105","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72297,"nodeType":"ExpressionStatement","src":"4152:138:105"}]},"documentation":{"id":72189,"nodeType":"StructuredDocumentation","src":"2497:482:105","text":" @dev Returns the sample at the given timestamp. If the timestamp is not in the oracle, it returns the closest sample\n @param oracle The oracle\n @param oracleId The oracle id\n @param lookUpTimestamp The timestamp to look up\n @return lastUpdate The last update timestamp\n @return cumulativeId The cumulative id\n @return cumulativeVolatility The cumulative volatility\n @return cumulativeBinCrossed The cumulative bin crossed"},"implemented":true,"kind":"function","modifiers":[],"name":"getSampleAt","nameLocation":"2993:11:105","parameters":{"id":72197,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72192,"mutability":"mutable","name":"oracle","nameLocation":"3020:6:105","nodeType":"VariableDeclaration","scope":72299,"src":"3005:21:105","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"},"typeName":{"id":72191,"nodeType":"UserDefinedTypeName","pathNode":{"id":72190,"name":"Oracle","nameLocations":["3005:6:105"],"nodeType":"IdentifierPath","referencedDeclaration":72099,"src":"3005:6:105"},"referencedDeclaration":72099,"src":"3005:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"}},"visibility":"internal"},{"constant":false,"id":72194,"mutability":"mutable","name":"oracleId","nameLocation":"3035:8:105","nodeType":"VariableDeclaration","scope":72299,"src":"3028:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72193,"name":"uint16","nodeType":"ElementaryTypeName","src":"3028:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":72196,"mutability":"mutable","name":"lookUpTimestamp","nameLocation":"3052:15:105","nodeType":"VariableDeclaration","scope":72299,"src":"3045:22:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":72195,"name":"uint40","nodeType":"ElementaryTypeName","src":"3045:6:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"}],"src":"3004:64:105"},"returnParameters":{"id":72206,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72199,"mutability":"mutable","name":"lastUpdate","nameLocation":"3123:10:105","nodeType":"VariableDeclaration","scope":72299,"src":"3116:17:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":72198,"name":"uint40","nodeType":"ElementaryTypeName","src":"3116:6:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"},{"constant":false,"id":72201,"mutability":"mutable","name":"cumulativeId","nameLocation":"3142:12:105","nodeType":"VariableDeclaration","scope":72299,"src":"3135:19:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":72200,"name":"uint64","nodeType":"ElementaryTypeName","src":"3135:6:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":72203,"mutability":"mutable","name":"cumulativeVolatility","nameLocation":"3163:20:105","nodeType":"VariableDeclaration","scope":72299,"src":"3156:27:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":72202,"name":"uint64","nodeType":"ElementaryTypeName","src":"3156:6:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":72205,"mutability":"mutable","name":"cumulativeBinCrossed","nameLocation":"3192:20:105","nodeType":"VariableDeclaration","scope":72299,"src":"3185:27:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":72204,"name":"uint64","nodeType":"ElementaryTypeName","src":"3185:6:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"3115:98:105"},"scope":72727,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":72425,"nodeType":"FunctionDefinition","src":"4650:1322:105","nodes":[],"body":{"id":72424,"nodeType":"Block","src":"4820:1152:105","nodes":[],"statements":[{"assignments":[72317],"declarations":[{"constant":false,"id":72317,"mutability":"mutable","name":"low","nameLocation":"4838:3:105","nodeType":"VariableDeclaration","scope":72424,"src":"4830:11:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72316,"name":"uint256","nodeType":"ElementaryTypeName","src":"4830:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72319,"initialValue":{"hexValue":"30","id":72318,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4844:1:105","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4830:15:105"},{"assignments":[72321],"declarations":[{"constant":false,"id":72321,"mutability":"mutable","name":"high","nameLocation":"4863:4:105","nodeType":"VariableDeclaration","scope":72424,"src":"4855:12:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72320,"name":"uint256","nodeType":"ElementaryTypeName","src":"4855:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72325,"initialValue":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72324,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72322,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72309,"src":"4870:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":72323,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4879:1:105","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"4870:10:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"4855:25:105"},{"assignments":[72327],"declarations":[{"constant":false,"id":72327,"mutability":"mutable","name":"sample","nameLocation":"4899:6:105","nodeType":"VariableDeclaration","scope":72424,"src":"4891:14:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72326,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4891:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":72328,"nodeType":"VariableDeclarationStatement","src":"4891:14:105"},{"assignments":[72330],"declarations":[{"constant":false,"id":72330,"mutability":"mutable","name":"sampleLastUpdate","nameLocation":"4922:16:105","nodeType":"VariableDeclaration","scope":72424,"src":"4915:23:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":72329,"name":"uint40","nodeType":"ElementaryTypeName","src":"4915:6:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"}],"id":72331,"nodeType":"VariableDeclarationStatement","src":"4915:23:105"},{"assignments":[72333],"declarations":[{"constant":false,"id":72333,"mutability":"mutable","name":"startId","nameLocation":"4957:7:105","nodeType":"VariableDeclaration","scope":72424,"src":"4949:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72332,"name":"uint256","nodeType":"ElementaryTypeName","src":"4949:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72335,"initialValue":{"id":72334,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72305,"src":"4967:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"4949:26:105"},{"body":{"id":72389,"nodeType":"Block","src":"5028:515:105","statements":[{"assignments":[72340],"declarations":[{"constant":false,"id":72340,"mutability":"mutable","name":"mid","nameLocation":"5050:3:105","nodeType":"VariableDeclaration","scope":72389,"src":"5042:11:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72339,"name":"uint256","nodeType":"ElementaryTypeName","src":"5042:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72347,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72343,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72341,"name":"low","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72317,"src":"5057:3:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":72342,"name":"high","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72321,"src":"5063:4:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5057:10:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":72344,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5056:12:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"hexValue":"31","id":72345,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5072:1:105","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5056:17:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5042:31:105"},{"AST":{"nodeType":"YulBlock","src":"5097:72:105","statements":[{"nodeType":"YulAssignment","src":"5115:40:105","value":{"arguments":[{"name":"startId","nodeType":"YulIdentifier","src":"5134:7:105"},{"name":"mid","nodeType":"YulIdentifier","src":"5143:3:105"},{"name":"length","nodeType":"YulIdentifier","src":"5148:6:105"}],"functionName":{"name":"addmod","nodeType":"YulIdentifier","src":"5127:6:105"},"nodeType":"YulFunctionCall","src":"5127:28:105"},"variableNames":[{"name":"oracleId","nodeType":"YulIdentifier","src":"5115:8:105"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":72309,"isOffset":false,"isSlot":false,"src":"5148:6:105","valueSize":1},{"declaration":72340,"isOffset":false,"isSlot":false,"src":"5143:3:105","valueSize":1},{"declaration":72305,"isOffset":false,"isSlot":false,"src":"5115:8:105","valueSize":1},{"declaration":72333,"isOffset":false,"isSlot":false,"src":"5134:7:105","valueSize":1}],"id":72348,"nodeType":"InlineAssembly","src":"5088:81:105"},{"expression":{"id":72354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72349,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72327,"src":"5183:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"expression":{"id":72350,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72303,"src":"5192:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},"id":72351,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5199:7:105","memberName":"samples","nodeType":"MemberAccess","referencedDeclaration":72098,"src":"5192:14:105","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage","typeString":"bytes32[65535] storage ref"}},"id":72353,"indexExpression":{"id":72352,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72305,"src":"5207:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5192:24:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"5183:33:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72355,"nodeType":"ExpressionStatement","src":"5183:33:105"},{"expression":{"id":72360,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72356,"name":"sampleLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72330,"src":"5230:16:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72357,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72327,"src":"5249:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72358,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5256:19:105","memberName":"getSampleLastUpdate","nodeType":"MemberAccess","referencedDeclaration":75960,"src":"5249:26:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint40_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint40)"}},"id":72359,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5249:28:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"5230:47:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"id":72361,"nodeType":"ExpressionStatement","src":"5230:47:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72364,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72362,"name":"sampleLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72330,"src":"5296:16:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":72363,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72307,"src":"5315:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"5296:34:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72374,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72372,"name":"sampleLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72330,"src":"5389:16:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":72373,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72307,"src":"5408:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"5389:34:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":72386,"nodeType":"Block","src":"5477:56:105","statements":[{"expression":{"components":[{"id":72382,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72327,"src":"5503:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":72383,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72327,"src":"5511:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72384,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5502:16:105","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes32_$","typeString":"tuple(bytes32,bytes32)"}},"functionReturnParameters":72315,"id":72385,"nodeType":"Return","src":"5495:23:105"}]},"id":72387,"nodeType":"IfStatement","src":"5385:148:105","trueBody":{"id":72381,"nodeType":"Block","src":"5425:46:105","statements":[{"expression":{"id":72379,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72375,"name":"low","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72317,"src":"5443:3:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72378,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72376,"name":"mid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72340,"src":"5449:3:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":72377,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5455:1:105","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5449:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5443:13:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72380,"nodeType":"ExpressionStatement","src":"5443:13:105"}]}},"id":72388,"nodeType":"IfStatement","src":"5292:241:105","trueBody":{"id":72371,"nodeType":"Block","src":"5332:47:105","statements":[{"expression":{"id":72369,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72365,"name":"high","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72321,"src":"5350:4:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72368,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72366,"name":"mid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72340,"src":"5357:3:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":72367,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5363:1:105","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5357:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5350:14:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72370,"nodeType":"ExpressionStatement","src":"5350:14:105"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72336,"name":"low","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72317,"src":"5015:3:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":72337,"name":"high","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72321,"src":"5022:4:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5015:11:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72390,"nodeType":"WhileStatement","src":"5008:535:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72393,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72391,"name":"lookUpTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72307,"src":"5557:15:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":72392,"name":"sampleLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72330,"src":"5575:16:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"5557:34:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":72422,"nodeType":"Block","src":"5806:160:105","statements":[{"AST":{"nodeType":"YulBlock","src":"5829:71:105","statements":[{"nodeType":"YulAssignment","src":"5847:39:105","value":{"arguments":[{"name":"oracleId","nodeType":"YulIdentifier","src":"5866:8:105"},{"kind":"number","nodeType":"YulLiteral","src":"5876:1:105","type":"","value":"1"},{"name":"length","nodeType":"YulIdentifier","src":"5879:6:105"}],"functionName":{"name":"addmod","nodeType":"YulIdentifier","src":"5859:6:105"},"nodeType":"YulFunctionCall","src":"5859:27:105"},"variableNames":[{"name":"oracleId","nodeType":"YulIdentifier","src":"5847:8:105"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":72309,"isOffset":false,"isSlot":false,"src":"5879:6:105","valueSize":1},{"declaration":72305,"isOffset":false,"isSlot":false,"src":"5847:8:105","valueSize":1},{"declaration":72305,"isOffset":false,"isSlot":false,"src":"5866:8:105","valueSize":1}],"id":72414,"nodeType":"InlineAssembly","src":"5820:80:105"},{"expression":{"components":[{"id":72415,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72327,"src":"5922:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"baseExpression":{"expression":{"id":72416,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72303,"src":"5930:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},"id":72417,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5937:7:105","memberName":"samples","nodeType":"MemberAccess","referencedDeclaration":72098,"src":"5930:14:105","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage","typeString":"bytes32[65535] storage ref"}},"id":72419,"indexExpression":{"id":72418,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72305,"src":"5945:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5930:24:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72420,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5921:34:105","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes32_$","typeString":"tuple(bytes32,bytes32)"}},"functionReturnParameters":72315,"id":72421,"nodeType":"Return","src":"5914:41:105"}]},"id":72423,"nodeType":"IfStatement","src":"5553:413:105","trueBody":{"id":72413,"nodeType":"Block","src":"5593:207:105","statements":[{"id":72412,"nodeType":"UncheckedBlock","src":"5607:183:105","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72394,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72305,"src":"5639:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72395,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5651:1:105","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5639:13:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72402,"nodeType":"IfStatement","src":"5635:77:105","trueBody":{"id":72401,"nodeType":"Block","src":"5654:58:105","statements":[{"expression":{"id":72399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72397,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72305,"src":"5676:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72398,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72309,"src":"5687:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"5676:17:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":72400,"nodeType":"ExpressionStatement","src":"5676:17:105"}]}},{"expression":{"components":[{"baseExpression":{"expression":{"id":72403,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72303,"src":"5738:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},"id":72404,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5745:7:105","memberName":"samples","nodeType":"MemberAccess","referencedDeclaration":72098,"src":"5738:14:105","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage","typeString":"bytes32[65535] storage ref"}},"id":72408,"indexExpression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72407,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72405,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72305,"src":"5753:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":72406,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5764:1:105","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5753:12:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5738:28:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":72409,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72327,"src":"5768:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72410,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5737:38:105","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes32_$","typeString":"tuple(bytes32,bytes32)"}},"functionReturnParameters":72315,"id":72411,"nodeType":"Return","src":"5730:45:105"}]}]}}]},"documentation":{"id":72300,"nodeType":"StructuredDocumentation","src":"4303:342:105","text":" @dev Binary search to find the 2 samples surrounding the given timestamp\n @param oracle The oracle\n @param oracleId The oracle id\n @param lookUpTimestamp The timestamp to look up\n @param length The oracle length\n @return prevSample The previous sample\n @return nextSample The next sample"},"implemented":true,"kind":"function","modifiers":[],"name":"binarySearch","nameLocation":"4659:12:105","parameters":{"id":72310,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72303,"mutability":"mutable","name":"oracle","nameLocation":"4687:6:105","nodeType":"VariableDeclaration","scope":72425,"src":"4672:21:105","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"},"typeName":{"id":72302,"nodeType":"UserDefinedTypeName","pathNode":{"id":72301,"name":"Oracle","nameLocations":["4672:6:105"],"nodeType":"IdentifierPath","referencedDeclaration":72099,"src":"4672:6:105"},"referencedDeclaration":72099,"src":"4672:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"}},"visibility":"internal"},{"constant":false,"id":72305,"mutability":"mutable","name":"oracleId","nameLocation":"4702:8:105","nodeType":"VariableDeclaration","scope":72425,"src":"4695:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72304,"name":"uint16","nodeType":"ElementaryTypeName","src":"4695:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":72307,"mutability":"mutable","name":"lookUpTimestamp","nameLocation":"4719:15:105","nodeType":"VariableDeclaration","scope":72425,"src":"4712:22:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":72306,"name":"uint40","nodeType":"ElementaryTypeName","src":"4712:6:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"},{"constant":false,"id":72309,"mutability":"mutable","name":"length","nameLocation":"4743:6:105","nodeType":"VariableDeclaration","scope":72425,"src":"4736:13:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72308,"name":"uint16","nodeType":"ElementaryTypeName","src":"4736:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"4671:79:105"},"returnParameters":{"id":72315,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72312,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":72425,"src":"4798:7:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72311,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4798:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":72314,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":72425,"src":"4807:7:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72313,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4807:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"4797:18:105"},"scope":72727,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":72451,"nodeType":"FunctionDefinition","src":"6145:196:105","nodes":[],"body":{"id":72450,"nodeType":"Block","src":"6253:88:105","nodes":[],"statements":[{"id":72449,"nodeType":"UncheckedBlock","src":"6263:72:105","statements":[{"expression":{"id":72447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":72439,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72429,"src":"6287:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},"id":72444,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6294:7:105","memberName":"samples","nodeType":"MemberAccess","referencedDeclaration":72098,"src":"6287:14:105","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage","typeString":"bytes32[65535] storage ref"}},"id":72445,"indexExpression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72443,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72441,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72431,"src":"6302:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":72442,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6313:1:105","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"6302:12:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6287:28:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72446,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72433,"src":"6318:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"6287:37:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72448,"nodeType":"ExpressionStatement","src":"6287:37:105"}]}]},"documentation":{"id":72426,"nodeType":"StructuredDocumentation","src":"5978:162:105","text":" @dev Sets the sample at the given oracleId\n @param oracle The oracle\n @param oracleId The oracle id\n @param sample The sample"},"implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72436,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72431,"src":"6243:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"id":72437,"kind":"modifierInvocation","modifierName":{"id":72435,"name":"checkOracleId","nameLocations":["6229:13:105"],"nodeType":"IdentifierPath","referencedDeclaration":72113,"src":"6229:13:105"},"nodeType":"ModifierInvocation","src":"6229:23:105"}],"name":"setSample","nameLocation":"6154:9:105","parameters":{"id":72434,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72429,"mutability":"mutable","name":"oracle","nameLocation":"6179:6:105","nodeType":"VariableDeclaration","scope":72451,"src":"6164:21:105","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"},"typeName":{"id":72428,"nodeType":"UserDefinedTypeName","pathNode":{"id":72427,"name":"Oracle","nameLocations":["6164:6:105"],"nodeType":"IdentifierPath","referencedDeclaration":72099,"src":"6164:6:105"},"referencedDeclaration":72099,"src":"6164:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"}},"visibility":"internal"},{"constant":false,"id":72431,"mutability":"mutable","name":"oracleId","nameLocation":"6194:8:105","nodeType":"VariableDeclaration","scope":72451,"src":"6187:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72430,"name":"uint16","nodeType":"ElementaryTypeName","src":"6187:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":72433,"mutability":"mutable","name":"sample","nameLocation":"6212:6:105","nodeType":"VariableDeclaration","scope":72451,"src":"6204:14:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72432,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6204:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"6163:56:105"},"returnParameters":{"id":72438,"nodeType":"ParameterList","parameters":[],"src":"6253:0:105"},"scope":72727,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":72595,"nodeType":"FunctionDefinition","src":"6541:1576:105","nodes":[],"body":{"id":72594,"nodeType":"Block","src":"6644:1473:105","nodes":[],"statements":[{"assignments":[72465],"declarations":[{"constant":false,"id":72465,"mutability":"mutable","name":"oracleId","nameLocation":"6661:8:105","nodeType":"VariableDeclaration","scope":72594,"src":"6654:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72464,"name":"uint16","nodeType":"ElementaryTypeName","src":"6654:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"id":72469,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72466,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72457,"src":"6672:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6683:11:105","memberName":"getOracleId","nodeType":"MemberAccess","referencedDeclaration":72978,"src":"6672:22:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint16_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint16)"}},"id":72468,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6672:24:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"6654:42:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72470,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72465,"src":"6710:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72471,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6722:1:105","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6710:13:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72475,"nodeType":"IfStatement","src":"6706:36:105","trueBody":{"expression":{"id":72473,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72457,"src":"6732:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":72463,"id":72474,"nodeType":"Return","src":"6725:17:105"}},{"assignments":[72477],"declarations":[{"constant":false,"id":72477,"mutability":"mutable","name":"sample","nameLocation":"6761:6:105","nodeType":"VariableDeclaration","scope":72594,"src":"6753:14:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72476,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6753:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":72482,"initialValue":{"arguments":[{"id":72479,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72455,"src":"6780:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72480,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72465,"src":"6788:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72478,"name":"getSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72138,"src":"6770:9:105","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$returns$_t_bytes32_$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16) view returns (bytes32)"}},"id":72481,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6770:27:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"6753:44:105"},{"assignments":[72484],"declarations":[{"constant":false,"id":72484,"mutability":"mutable","name":"createdAt","nameLocation":"6815:9:105","nodeType":"VariableDeclaration","scope":72594,"src":"6808:16:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":72483,"name":"uint40","nodeType":"ElementaryTypeName","src":"6808:6:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"}],"id":72488,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72485,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72477,"src":"6827:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6834:17:105","memberName":"getSampleCreation","nodeType":"MemberAccess","referencedDeclaration":75941,"src":"6827:24:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint40_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint40)"}},"id":72487,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6827:26:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"VariableDeclarationStatement","src":"6808:45:105"},{"assignments":[72490],"declarations":[{"constant":false,"id":72490,"mutability":"mutable","name":"lastUpdatedAt","nameLocation":"6870:13:105","nodeType":"VariableDeclaration","scope":72594,"src":"6863:20:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":72489,"name":"uint40","nodeType":"ElementaryTypeName","src":"6863:6:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"}],"id":72496,"initialValue":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72495,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72491,"name":"createdAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72484,"src":"6886:9:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72492,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72477,"src":"6898:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6905:17:105","memberName":"getSampleLifetime","nodeType":"MemberAccess","referencedDeclaration":75927,"src":"6898:24:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint8_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint8)"}},"id":72494,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6898:26:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"6886:38:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"VariableDeclarationStatement","src":"6863:61:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":72502,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":72497,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"6939:5:105","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72498,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6945:9:105","memberName":"timestamp","nodeType":"MemberAccess","src":"6939:15:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72499,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6955:6:105","memberName":"safe40","nodeType":"MemberAccess","referencedDeclaration":75663,"src":"6939:22:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint40_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint40)"}},"id":72500,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6939:24:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":72501,"name":"lastUpdatedAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72490,"src":"6966:13:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"6939:40:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72591,"nodeType":"IfStatement","src":"6935:1148:105","trueBody":{"id":72590,"nodeType":"Block","src":"6981:1102:105","statements":[{"id":72583,"nodeType":"UncheckedBlock","src":"6995:1028:105","statements":[{"assignments":[72504,72506,72508],"declarations":[{"constant":false,"id":72504,"mutability":"mutable","name":"cumulativeId","nameLocation":"7031:12:105","nodeType":"VariableDeclaration","scope":72583,"src":"7024:19:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":72503,"name":"uint64","nodeType":"ElementaryTypeName","src":"7024:6:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":72506,"mutability":"mutable","name":"cumulativeVolatility","nameLocation":"7052:20:105","nodeType":"VariableDeclaration","scope":72583,"src":"7045:27:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":72505,"name":"uint64","nodeType":"ElementaryTypeName","src":"7045:6:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":72508,"mutability":"mutable","name":"cumulativeBinCrossed","nameLocation":"7081:20:105","nodeType":"VariableDeclaration","scope":72583,"src":"7074:27:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":72507,"name":"uint64","nodeType":"ElementaryTypeName","src":"7074:6:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"id":72529,"initialValue":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72516,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":72513,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"7147:5:105","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72514,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7153:9:105","memberName":"timestamp","nodeType":"MemberAccess","src":"7147:15:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":72515,"name":"lastUpdatedAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72490,"src":"7165:13:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"7147:31:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72512,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7140:6:105","typeDescriptions":{"typeIdentifier":"t_type$_t_uint40_$","typeString":"type(uint40)"},"typeName":{"id":72511,"name":"uint40","nodeType":"ElementaryTypeName","src":"7140:6:105","typeDescriptions":{}}},"id":72517,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7140:39:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72518,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72457,"src":"7201:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72519,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7212:11:105","memberName":"getActiveId","nodeType":"MemberAccess","referencedDeclaration":72994,"src":"7201:22:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint24_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint24)"}},"id":72520,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7201:24:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72521,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72457,"src":"7247:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72522,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7258:24:105","memberName":"getVolatilityAccumulator","nodeType":"MemberAccess","referencedDeclaration":72914,"src":"7247:35:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint24_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint24)"}},"id":72523,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7247:37:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},{"arguments":[{"id":72526,"name":"activeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72459,"src":"7328:8:105","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint24","typeString":"uint24"}],"expression":{"id":72524,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72457,"src":"7306:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7317:10:105","memberName":"getDeltaId","nodeType":"MemberAccess","referencedDeclaration":73023,"src":"7306:21:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint24_$returns$_t_uint24_$attached_to$_t_bytes32_$","typeString":"function (bytes32,uint24) pure returns (uint24)"}},"id":72527,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7306:31:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint40","typeString":"uint40"},{"typeIdentifier":"t_uint24","typeString":"uint24"},{"typeIdentifier":"t_uint24","typeString":"uint24"},{"typeIdentifier":"t_uint24","typeString":"uint24"}],"expression":{"id":72509,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72477,"src":"7105:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72510,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7112:6:105","memberName":"update","nodeType":"MemberAccess","referencedDeclaration":76176,"src":"7105:13:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint40_$_t_uint24_$_t_uint24_$_t_uint24_$returns$_t_uint64_$_t_uint64_$_t_uint64_$attached_to$_t_bytes32_$","typeString":"function (bytes32,uint40,uint24,uint24,uint24) pure returns (uint64,uint64,uint64)"}},"id":72528,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7105:250:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint64_$_t_uint64_$_t_uint64_$","typeString":"tuple(uint64,uint64,uint64)"}},"nodeType":"VariableDeclarationStatement","src":"7023:332:105"},{"assignments":[72531],"declarations":[{"constant":false,"id":72531,"mutability":"mutable","name":"length","nameLocation":"7381:6:105","nodeType":"VariableDeclaration","scope":72583,"src":"7374:13:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72530,"name":"uint16","nodeType":"ElementaryTypeName","src":"7374:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"id":72535,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72532,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72477,"src":"7390:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72533,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7397:15:105","memberName":"getOracleLength","nodeType":"MemberAccess","referencedDeclaration":75871,"src":"7390:22:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint16_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint16)"}},"id":72534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7390:24:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"7374:40:105"},{"assignments":[72537],"declarations":[{"constant":false,"id":72537,"mutability":"mutable","name":"lifetime","nameLocation":"7440:8:105","nodeType":"VariableDeclaration","scope":72583,"src":"7432:16:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72536,"name":"uint256","nodeType":"ElementaryTypeName","src":"7432:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72542,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72541,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":72538,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"7451:5:105","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72539,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7457:9:105","memberName":"timestamp","nodeType":"MemberAccess","src":"7451:15:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":72540,"name":"createdAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72484,"src":"7469:9:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"7451:27:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7432:46:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72543,"name":"lifetime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72537,"src":"7501:8:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":72544,"name":"_MAX_SAMPLE_LIFETIME","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72102,"src":"7512:20:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7501:31:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72567,"nodeType":"IfStatement","src":"7497:335:105","trueBody":{"id":72566,"nodeType":"Block","src":"7534:298:105","statements":[{"AST":{"nodeType":"YulBlock","src":"7565:89:105","statements":[{"nodeType":"YulAssignment","src":"7591:41:105","value":{"arguments":[{"arguments":[{"name":"oracleId","nodeType":"YulIdentifier","src":"7611:8:105"},{"name":"length","nodeType":"YulIdentifier","src":"7621:6:105"}],"functionName":{"name":"mod","nodeType":"YulIdentifier","src":"7607:3:105"},"nodeType":"YulFunctionCall","src":"7607:21:105"},{"kind":"number","nodeType":"YulLiteral","src":"7630:1:105","type":"","value":"1"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"7603:3:105"},"nodeType":"YulFunctionCall","src":"7603:29:105"},"variableNames":[{"name":"oracleId","nodeType":"YulIdentifier","src":"7591:8:105"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":72531,"isOffset":false,"isSlot":false,"src":"7621:6:105","valueSize":1},{"declaration":72465,"isOffset":false,"isSlot":false,"src":"7591:8:105","valueSize":1},{"declaration":72465,"isOffset":false,"isSlot":false,"src":"7611:8:105","valueSize":1}],"id":72546,"nodeType":"InlineAssembly","src":"7556:98:105"},{"expression":{"id":72549,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72547,"name":"lifetime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72537,"src":"7676:8:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":72548,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7687:1:105","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7676:12:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72550,"nodeType":"ExpressionStatement","src":"7676:12:105"},{"expression":{"id":72557,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72551,"name":"createdAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72484,"src":"7710:9:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":72554,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"7729:5:105","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7735:9:105","memberName":"timestamp","nodeType":"MemberAccess","src":"7729:15:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72553,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7722:6:105","typeDescriptions":{"typeIdentifier":"t_type$_t_uint40_$","typeString":"type(uint40)"},"typeName":{"id":72552,"name":"uint40","nodeType":"ElementaryTypeName","src":"7722:6:105","typeDescriptions":{}}},"id":72556,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7722:23:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"src":"7710:35:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"id":72558,"nodeType":"ExpressionStatement","src":"7710:35:105"},{"expression":{"id":72564,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72559,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72457,"src":"7768:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":72562,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72465,"src":"7804:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"expression":{"id":72560,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72457,"src":"7781:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7792:11:105","memberName":"setOracleId","nodeType":"MemberAccess","referencedDeclaration":73137,"src":"7781:22:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint16_$returns$_t_bytes32_$attached_to$_t_bytes32_$","typeString":"function (bytes32,uint16) pure returns (bytes32)"}},"id":72563,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7781:32:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"7768:45:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72565,"nodeType":"ExpressionStatement","src":"7768:45:105"}]}},{"expression":{"id":72581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72568,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72477,"src":"7850:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":72571,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72531,"src":"7898:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":72572,"name":"cumulativeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72504,"src":"7906:12:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},{"id":72573,"name":"cumulativeVolatility","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72506,"src":"7920:20:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},{"id":72574,"name":"cumulativeBinCrossed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72508,"src":"7942:20:105","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},{"arguments":[{"id":72577,"name":"lifetime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72537,"src":"7970:8:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72576,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7964:5:105","typeDescriptions":{"typeIdentifier":"t_type$_t_uint8_$","typeString":"type(uint8)"},"typeName":{"id":72575,"name":"uint8","nodeType":"ElementaryTypeName","src":"7964:5:105","typeDescriptions":{}}},"id":72578,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7964:15:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},{"id":72579,"name":"createdAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72484,"src":"7981:9:105","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_uint64","typeString":"uint64"},{"typeIdentifier":"t_uint64","typeString":"uint64"},{"typeIdentifier":"t_uint64","typeString":"uint64"},{"typeIdentifier":"t_uint8","typeString":"uint8"},{"typeIdentifier":"t_uint40","typeString":"uint40"}],"expression":{"id":72569,"name":"SampleMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":76177,"src":"7859:10:105","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SampleMath_$76177_$","typeString":"type(library SampleMath)"}},"id":72570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7870:6:105","memberName":"encode","nodeType":"MemberAccess","referencedDeclaration":75857,"src":"7859:17:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint16_$_t_uint64_$_t_uint64_$_t_uint64_$_t_uint8_$_t_uint40_$returns$_t_bytes32_$","typeString":"function (uint16,uint64,uint64,uint64,uint8,uint40) pure returns (bytes32)"}},"id":72580,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7859:149:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"7850:158:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72582,"nodeType":"ExpressionStatement","src":"7850:158:105"}]},{"expression":{"arguments":[{"id":72585,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72455,"src":"8047:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72586,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72465,"src":"8055:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":72587,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72477,"src":"8065:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":72584,"name":"setSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72451,"src":"8037:9:105","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$_t_bytes32_$returns$__$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16,bytes32)"}},"id":72588,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8037:35:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72589,"nodeType":"ExpressionStatement","src":"8037:35:105"}]}},{"expression":{"id":72592,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72457,"src":"8100:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":72463,"id":72593,"nodeType":"Return","src":"8093:17:105"}]},"documentation":{"id":72452,"nodeType":"StructuredDocumentation","src":"6347:189:105","text":" @dev Updates the oracle\n @param oracle The oracle\n @param parameters The parameters\n @param activeId The active id\n @return The updated parameters"},"implemented":true,"kind":"function","modifiers":[],"name":"update","nameLocation":"6550:6:105","parameters":{"id":72460,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72455,"mutability":"mutable","name":"oracle","nameLocation":"6572:6:105","nodeType":"VariableDeclaration","scope":72595,"src":"6557:21:105","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"},"typeName":{"id":72454,"nodeType":"UserDefinedTypeName","pathNode":{"id":72453,"name":"Oracle","nameLocations":["6557:6:105"],"nodeType":"IdentifierPath","referencedDeclaration":72099,"src":"6557:6:105"},"referencedDeclaration":72099,"src":"6557:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"}},"visibility":"internal"},{"constant":false,"id":72457,"mutability":"mutable","name":"parameters","nameLocation":"6588:10:105","nodeType":"VariableDeclaration","scope":72595,"src":"6580:18:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72456,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6580:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":72459,"mutability":"mutable","name":"activeId","nameLocation":"6607:8:105","nodeType":"VariableDeclaration","scope":72595,"src":"6600:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":72458,"name":"uint24","nodeType":"ElementaryTypeName","src":"6600:6:105","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"6556:60:105"},"returnParameters":{"id":72463,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72462,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":72595,"src":"6635:7:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72461,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6635:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"6634:9:105"},"scope":72727,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":72712,"nodeType":"FunctionDefinition","src":"8287:809:105","nodes":[],"body":{"id":72711,"nodeType":"Block","src":"8378:718:105","nodes":[],"statements":[{"assignments":[72607],"declarations":[{"constant":false,"id":72607,"mutability":"mutable","name":"sample","nameLocation":"8396:6:105","nodeType":"VariableDeclaration","scope":72711,"src":"8388:14:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72606,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8388:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":72612,"initialValue":{"arguments":[{"id":72609,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72599,"src":"8415:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72610,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72601,"src":"8423:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72608,"name":"getSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72138,"src":"8405:9:105","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$returns$_t_bytes32_$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16) view returns (bytes32)"}},"id":72611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8405:27:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"8388:44:105"},{"assignments":[72614],"declarations":[{"constant":false,"id":72614,"mutability":"mutable","name":"length","nameLocation":"8449:6:105","nodeType":"VariableDeclaration","scope":72711,"src":"8442:13:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72613,"name":"uint16","nodeType":"ElementaryTypeName","src":"8442:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"id":72618,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72615,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72607,"src":"8458:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8465:15:105","memberName":"getOracleLength","nodeType":"MemberAccess","referencedDeclaration":75871,"src":"8458:22:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint16_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint16)"}},"id":72617,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8458:24:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"8442:40:105"},{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72619,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72614,"src":"8497:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":72620,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72603,"src":"8507:9:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"8497:19:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72625,"nodeType":"IfStatement","src":"8493:65:105","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72622,"name":"OracleHelper__NewLengthTooSmall","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72092,"src":"8525:31:105","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72623,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8525:33:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72624,"nodeType":"RevertStatement","src":"8518:40:105"}},{"assignments":[72627],"declarations":[{"constant":false,"id":72627,"mutability":"mutable","name":"lastSample","nameLocation":"8577:10:105","nodeType":"VariableDeclaration","scope":72711,"src":"8569:18:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72626,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8569:7:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":72645,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72628,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72614,"src":"8590:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":72629,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72601,"src":"8600:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"8590:18:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72634,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72632,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72614,"src":"8620:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72633,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8630:1:105","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8620:11:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":72640,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72599,"src":"8657:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72641,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72614,"src":"8665:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72639,"name":"getSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72138,"src":"8647:9:105","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$returns$_t_bytes32_$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16) view returns (bytes32)"}},"id":72642,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8647:25:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72643,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8620:52:105","trueExpression":{"arguments":[{"hexValue":"30","id":72637,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8642:1:105","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":72636,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8634:7:105","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":72635,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8634:7:105","typeDescriptions":{}}},"id":72638,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8634:10:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8590:82:105","trueExpression":{"id":72631,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72607,"src":"8611:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"8569:103:105"},{"assignments":[72647],"declarations":[{"constant":false,"id":72647,"mutability":"mutable","name":"activeSize","nameLocation":"8691:10:105","nodeType":"VariableDeclaration","scope":72711,"src":"8683:18:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72646,"name":"uint256","nodeType":"ElementaryTypeName","src":"8683:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72651,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":72648,"name":"lastSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72627,"src":"8704:10:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8715:15:105","memberName":"getOracleLength","nodeType":"MemberAccess","referencedDeclaration":75871,"src":"8704:26:105","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint16_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint16)"}},"id":72650,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8704:28:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"8683:49:105"},{"expression":{"id":72659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72652,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72647,"src":"8742:10:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72653,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72601,"src":"8755:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":72654,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72647,"src":"8766:10:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8755:21:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":72657,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72647,"src":"8790:10:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8755:45:105","trueExpression":{"id":72656,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72601,"src":"8779:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8742:58:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72660,"nodeType":"ExpressionStatement","src":"8742:58:105"},{"body":{"id":72686,"nodeType":"Block","src":"8852:133:105","statements":[{"expression":{"id":72680,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":72668,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72599,"src":"8866:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},"id":72671,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8873:7:105","memberName":"samples","nodeType":"MemberAccess","referencedDeclaration":72098,"src":"8866:14:105","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$65535_storage","typeString":"bytes32[65535] storage ref"}},"id":72672,"indexExpression":{"id":72670,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72662,"src":"8881:1:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8866:17:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":72677,"name":"activeSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72647,"src":"8902:10:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72676,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8894:7:105","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":72675,"name":"uint256","nodeType":"ElementaryTypeName","src":"8894:7:105","typeDescriptions":{}}},"id":72678,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8894:19:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72674,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8886:7:105","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":72673,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8886:7:105","typeDescriptions":{}}},"id":72679,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8886:28:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"8866:48:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":72681,"nodeType":"ExpressionStatement","src":"8866:48:105"},{"id":72685,"nodeType":"UncheckedBlock","src":"8929:46:105","statements":[{"expression":{"id":72683,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"8957:3:105","subExpression":{"id":72682,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72662,"src":"8959:1:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72684,"nodeType":"ExpressionStatement","src":"8957:3:105"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72665,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72662,"src":"8836:1:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":72666,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72603,"src":"8840:9:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"8836:13:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72687,"initializationExpression":{"assignments":[72662],"declarations":[{"constant":false,"id":72662,"mutability":"mutable","name":"i","nameLocation":"8824:1:105","nodeType":"VariableDeclaration","scope":72687,"src":"8816:9:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72661,"name":"uint256","nodeType":"ElementaryTypeName","src":"8816:7:105","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72664,"initialValue":{"id":72663,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72614,"src":"8828:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"8816:18:105"},"nodeType":"ForStatement","src":"8811:174:105"},{"expression":{"arguments":[{"id":72689,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72599,"src":"9005:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"}},{"id":72690,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72601,"src":"9013:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":72708,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":72699,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72691,"name":"sample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72607,"src":"9024:6:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"^","rightExpression":{"arguments":[{"arguments":[{"id":72696,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72614,"src":"9049:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72695,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9041:7:105","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":72694,"name":"uint256","nodeType":"ElementaryTypeName","src":"9041:7:105","typeDescriptions":{}}},"id":72697,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9041:15:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72693,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9033:7:105","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":72692,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9033:7:105","typeDescriptions":{}}},"id":72698,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9033:24:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"9024:33:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72700,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9023:35:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"arguments":[{"arguments":[{"id":72705,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72603,"src":"9077:9:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":72704,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9069:7:105","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":72703,"name":"uint256","nodeType":"ElementaryTypeName","src":"9069:7:105","typeDescriptions":{}}},"id":72706,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9069:18:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72702,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9061:7:105","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":72701,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9061:7:105","typeDescriptions":{}}},"id":72707,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9061:27:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"9023:65:105","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle storage pointer"},{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":72688,"name":"setSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72451,"src":"8995:9:105","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_Oracle_$72099_storage_ptr_$_t_uint16_$_t_bytes32_$returns$__$","typeString":"function (struct OracleHelper.Oracle storage pointer,uint16,bytes32)"}},"id":72709,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8995:94:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72710,"nodeType":"ExpressionStatement","src":"8995:94:105"}]},"documentation":{"id":72596,"nodeType":"StructuredDocumentation","src":"8123:159:105","text":" @dev Increases the oracle length\n @param oracle The oracle\n @param oracleId The oracle id\n @param newLength The new length"},"implemented":true,"kind":"function","modifiers":[],"name":"increaseLength","nameLocation":"8296:14:105","parameters":{"id":72604,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72599,"mutability":"mutable","name":"oracle","nameLocation":"8326:6:105","nodeType":"VariableDeclaration","scope":72712,"src":"8311:21:105","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"},"typeName":{"id":72598,"nodeType":"UserDefinedTypeName","pathNode":{"id":72597,"name":"Oracle","nameLocations":["8311:6:105"],"nodeType":"IdentifierPath","referencedDeclaration":72099,"src":"8311:6:105"},"referencedDeclaration":72099,"src":"8311:6:105","typeDescriptions":{"typeIdentifier":"t_struct$_Oracle_$72099_storage_ptr","typeString":"struct OracleHelper.Oracle"}},"visibility":"internal"},{"constant":false,"id":72601,"mutability":"mutable","name":"oracleId","nameLocation":"8341:8:105","nodeType":"VariableDeclaration","scope":72712,"src":"8334:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72600,"name":"uint16","nodeType":"ElementaryTypeName","src":"8334:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":72603,"mutability":"mutable","name":"newLength","nameLocation":"8358:9:105","nodeType":"VariableDeclaration","scope":72712,"src":"8351:16:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72602,"name":"uint16","nodeType":"ElementaryTypeName","src":"8351:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"8310:58:105"},"returnParameters":{"id":72605,"nodeType":"ParameterList","parameters":[],"src":"8378:0:105"},"scope":72727,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":72726,"nodeType":"FunctionDefinition","src":"9202:128:105","nodes":[],"body":{"id":72725,"nodeType":"Block","src":"9256:74:105","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":72720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72718,"name":"oracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72715,"src":"9270:8:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72719,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9282:1:105","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9270:13:105","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72724,"nodeType":"IfStatement","src":"9266:57:105","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72721,"name":"OracleHelper__InvalidOracleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72090,"src":"9292:29:105","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72722,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9292:31:105","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72723,"nodeType":"RevertStatement","src":"9285:38:105"}}]},"documentation":{"id":72713,"nodeType":"StructuredDocumentation","src":"9102:95:105","text":" @dev Checks that the oracle id is valid\n @param oracleId The oracle id"},"implemented":true,"kind":"function","modifiers":[],"name":"_checkOracleId","nameLocation":"9211:14:105","parameters":{"id":72716,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72715,"mutability":"mutable","name":"oracleId","nameLocation":"9233:8:105","nodeType":"VariableDeclaration","scope":72726,"src":"9226:15:105","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":72714,"name":"uint16","nodeType":"ElementaryTypeName","src":"9226:6:105","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"9225:17:105"},"returnParameters":{"id":72717,"nodeType":"ParameterList","parameters":[],"src":"9256:0:105"},"scope":72727,"stateMutability":"pure","virtual":false,"visibility":"private"}],"abstract":false,"baseContracts":[],"canonicalName":"OracleHelper","contractDependencies":[],"contractKind":"library","documentation":{"id":72079,"nodeType":"StructuredDocumentation","src":"219:508:105","text":" @title Liquidity Book Oracle Helper Library\n @author Trader Sovryn LB\n @notice This library contains functions to manage the oracle\n The oracle samples are stored in a single bytes32 array.\n Each sample is encoded as follows:\n 0 - 16: oracle length (16 bits)\n 16 - 80: cumulative id (64 bits)\n 80 - 144: cumulative volatility accumulator (64 bits)\n 144 - 208: cumulative bin crossed (64 bits)\n 208 - 216: sample lifetime (8 bits)\n 216 - 256: sample creation timestamp (40 bits)"},"fullyImplemented":true,"linearizedBaseContracts":[72727],"name":"OracleHelper","nameLocation":"736:12:105","scope":72728,"usedErrors":[72090,72092,72094],"usedEvents":[]}],"license":"MIT"},"id":105}