{"abi":[{"type":"error","name":"FeeHelper__FeeTooLarge","inputs":[]},{"type":"error","name":"FeeHelper__ProtocolShareTooLarge","inputs":[]}],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220dff5e0b2d88dd466e2db286dfcb2bebf44436b8331c5c5e5ff9f6bc783f2643364736f6c63430008140033","sourceMap":"244:3389:102:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;244:3389:102;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220dff5e0b2d88dd466e2db286dfcb2bebf44436b8331c5c5e5ff9f6bc783f2643364736f6c63430008140033","sourceMap":"244:3389:102:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"FeeHelper__FeeTooLarge\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FeeHelper__ProtocolShareTooLarge\",\"type\":\"error\"}],\"devdoc\":{\"author\":\"Trader Sovryn LB\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Liquidity Book Fee Helper Library\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"This library contains functions to calculate fees\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/libraries/FeeHelper.sol\":\"FeeHelper\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\"]},\"sources\":{\"src/libraries/Constants.sol\":{\"keccak256\":\"0x9e8f98ab393cf7f0a7a0774b9f0f912ec5dd86fdfdd041423978f3d6acce21e2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://82b49fa2c74c482822957cc7bd9ba693e077c9024451be40f4a1037e2d5cf009\",\"dweb:/ipfs/QmbMP3LSYQttZhiPb2hpM7k1697HBo93Bi6DgQGoZZZ3ZD\"]},\"src/libraries/FeeHelper.sol\":{\"keccak256\":\"0xe8705347313b3e3fa998bd3e4b9585ff4a2e7c698dc5d8bc48e1a0f99dd8a084\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f148c2d49352330df0d8c51941a07035b9b73938a82bf797b2872c6872d687ee\",\"dweb:/ipfs/QmRuhLphH6joRyuryx322PvZjxtA3J122G86APyg4mjMra\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"FeeHelper__FeeTooLarge"},{"inputs":[],"type":"error","name":"FeeHelper__ProtocolShareTooLarge"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":800},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/libraries/FeeHelper.sol":"FeeHelper"},"evmVersion":"paris","libraries":{}},"sources":{"src/libraries/Constants.sol":{"keccak256":"0x9e8f98ab393cf7f0a7a0774b9f0f912ec5dd86fdfdd041423978f3d6acce21e2","urls":["bzz-raw://82b49fa2c74c482822957cc7bd9ba693e077c9024451be40f4a1037e2d5cf009","dweb:/ipfs/QmbMP3LSYQttZhiPb2hpM7k1697HBo93Bi6DgQGoZZZ3ZD"],"license":"MIT"},"src/libraries/FeeHelper.sol":{"keccak256":"0xe8705347313b3e3fa998bd3e4b9585ff4a2e7c698dc5d8bc48e1a0f99dd8a084","urls":["bzz-raw://f148c2d49352330df0d8c51941a07035b9b73938a82bf797b2872c6872d687ee","dweb:/ipfs/QmRuhLphH6joRyuryx322PvZjxtA3J122G86APyg4mjMra"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/libraries/FeeHelper.sol","id":71119,"exportedSymbols":{"Constants":[70925],"FeeHelper":[71118]},"nodeType":"SourceUnit","src":"33:3601:102","nodes":[{"id":70927,"nodeType":"PragmaDirective","src":"33:24:102","nodes":[],"literals":["solidity","^","0.8",".10"]},{"id":70929,"nodeType":"ImportDirective","src":"59:42:102","nodes":[],"absolutePath":"src/libraries/Constants.sol","file":"./Constants.sol","nameLocation":"-1:-1:-1","scope":71119,"sourceUnit":70926,"symbolAliases":[{"foreign":{"id":70928,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"67:9:102","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71118,"nodeType":"ContractDefinition","src":"244:3389:102","nodes":[{"id":70932,"nodeType":"ErrorDefinition","src":"268:31:102","nodes":[],"errorSelector":"8630bc6b","name":"FeeHelper__FeeTooLarge","nameLocation":"274:22:102","parameters":{"id":70931,"nodeType":"ParameterList","parameters":[],"src":"296:2:102"}},{"id":70934,"nodeType":"ErrorDefinition","src":"304:41:102","nodes":[],"errorSelector":"f3970f5a","name":"FeeHelper__ProtocolShareTooLarge","nameLocation":"310:32:102","parameters":{"id":70933,"nodeType":"ParameterList","parameters":[],"src":"342:2:102"}},{"id":70945,"nodeType":"ModifierDefinition","src":"453:75:102","nodes":[],"body":{"id":70944,"nodeType":"Block","src":"485:43:102","nodes":[],"statements":[{"expression":{"arguments":[{"id":70940,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70937,"src":"506:3:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":70939,"name":"_verifyFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71117,"src":"495:10:102","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$__$","typeString":"function (uint128) pure"}},"id":70941,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"495:15:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70942,"nodeType":"ExpressionStatement","src":"495:15:102"},{"id":70943,"nodeType":"PlaceholderStatement","src":"520:1:102"}]},"documentation":{"id":70935,"nodeType":"StructuredDocumentation","src":"351:97:102","text":" @dev Modifier to check that the fee is not too large\n @param fee The fee"},"name":"verifyFee","nameLocation":"462:9:102","parameters":{"id":70938,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70937,"mutability":"mutable","name":"fee","nameLocation":"480:3:102","nodeType":"VariableDeclaration","scope":70945,"src":"472:11:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70936,"name":"uint128","nodeType":"ElementaryTypeName","src":"472:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"471:13:102"},"virtual":false,"visibility":"internal"},{"id":70960,"nodeType":"ModifierDefinition","src":"668:171:102","nodes":[],"body":{"id":70959,"nodeType":"Block","src":"720:119:102","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70953,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70950,"name":"protocolShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70948,"src":"734:13:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"id":70951,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"750:9:102","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70952,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"760:18:102","memberName":"MAX_PROTOCOL_SHARE","nodeType":"MemberAccess","referencedDeclaration":70912,"src":"750:28:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"734:44:102","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70957,"nodeType":"IfStatement","src":"730:91:102","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":70954,"name":"FeeHelper__ProtocolShareTooLarge","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70934,"src":"787:32:102","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":70955,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"787:34:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70956,"nodeType":"RevertStatement","src":"780:41:102"}},{"id":70958,"nodeType":"PlaceholderStatement","src":"831:1:102"}]},"documentation":{"id":70946,"nodeType":"StructuredDocumentation","src":"534:129:102","text":" @dev Modifier to check that the protocol share is not too large\n @param protocolShare The protocol share"},"name":"verifyProtocolShare","nameLocation":"677:19:102","parameters":{"id":70949,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70948,"mutability":"mutable","name":"protocolShare","nameLocation":"705:13:102","nodeType":"VariableDeclaration","scope":70960,"src":"697:21:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70947,"name":"uint128","nodeType":"ElementaryTypeName","src":"697:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"696:23:102"},"virtual":false,"visibility":"internal"},{"id":70994,"nodeType":"FunctionDefinition","src":"1065:407:102","nodes":[],"body":{"id":70993,"nodeType":"Block","src":"1221:251:102","nodes":[],"statements":[{"id":70992,"nodeType":"UncheckedBlock","src":"1231:235:102","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70989,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70985,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70983,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70980,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":70977,"name":"amountWithFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70963,"src":"1379:14:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":70976,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1371:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70975,"name":"uint256","nodeType":"ElementaryTypeName","src":"1371:7:102","typeDescriptions":{}}},"id":70978,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1371:23:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":70979,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70965,"src":"1397:8:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"1371:34:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":70981,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"1408:9:102","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70982,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1418:9:102","memberName":"PRECISION","nodeType":"MemberAccess","referencedDeclaration":70901,"src":"1408:19:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1371:56:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":70984,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1430:1:102","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1371:60:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":70986,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1370:62:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"id":70987,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"1435:9:102","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70988,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1445:9:102","memberName":"PRECISION","nodeType":"MemberAccess","referencedDeclaration":70901,"src":"1435:19:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1370:84:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70974,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1362:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":70973,"name":"uint128","nodeType":"ElementaryTypeName","src":"1362:7:102","typeDescriptions":{}}},"id":70990,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1362:93:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"functionReturnParameters":70972,"id":70991,"nodeType":"Return","src":"1355:100:102"}]}]},"documentation":{"id":70961,"nodeType":"StructuredDocumentation","src":"845:215:102","text":" @dev Calculates the fee amount from the amount with fees, rounding up\n @param amountWithFees The amount with fees\n @param totalFee The total fee\n @return feeAmount The fee amount"},"implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":70968,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70965,"src":"1181:8:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":70969,"kind":"modifierInvocation","modifierName":{"id":70967,"name":"verifyFee","nameLocations":["1171:9:102"],"nodeType":"IdentifierPath","referencedDeclaration":70945,"src":"1171:9:102"},"nodeType":"ModifierInvocation","src":"1171:19:102"}],"name":"getFeeAmountFrom","nameLocation":"1074:16:102","parameters":{"id":70966,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70963,"mutability":"mutable","name":"amountWithFees","nameLocation":"1099:14:102","nodeType":"VariableDeclaration","scope":70994,"src":"1091:22:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70962,"name":"uint128","nodeType":"ElementaryTypeName","src":"1091:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70965,"mutability":"mutable","name":"totalFee","nameLocation":"1123:8:102","nodeType":"VariableDeclaration","scope":70994,"src":"1115:16:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70964,"name":"uint128","nodeType":"ElementaryTypeName","src":"1115:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"1090:42:102"},"returnParameters":{"id":70972,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70971,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70994,"src":"1208:7:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70970,"name":"uint128","nodeType":"ElementaryTypeName","src":"1208:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"1207:9:102"},"scope":71118,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":71033,"nodeType":"FunctionDefinition","src":"1675:405:102","nodes":[],"body":{"id":71032,"nodeType":"Block","src":"1783:297:102","nodes":[],"statements":[{"id":71031,"nodeType":"UncheckedBlock","src":"1793:281:102","statements":[{"assignments":[71008],"declarations":[{"constant":false,"id":71008,"mutability":"mutable","name":"denominator","nameLocation":"1825:11:102","nodeType":"VariableDeclaration","scope":71031,"src":"1817:19:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71007,"name":"uint256","nodeType":"ElementaryTypeName","src":"1817:7:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":71013,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":71009,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"1839:9:102","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":71010,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1849:9:102","memberName":"PRECISION","nodeType":"MemberAccess","referencedDeclaration":70901,"src":"1839:19:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":71011,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70999,"src":"1861:8:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"1839:30:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1817:52:102"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71028,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71025,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71023,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71021,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":71018,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70997,"src":"2011:6:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":71017,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2003:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":71016,"name":"uint256","nodeType":"ElementaryTypeName","src":"2003:7:102","typeDescriptions":{}}},"id":71019,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2003:15:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":71020,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70999,"src":"2021:8:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"2003:26:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":71022,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71008,"src":"2032:11:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2003:40:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":71024,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2046:1:102","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2003:44:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":71026,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2002:46:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":71027,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71008,"src":"2051:11:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2002:60:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":71015,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1994:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":71014,"name":"uint128","nodeType":"ElementaryTypeName","src":"1994:7:102","typeDescriptions":{}}},"id":71029,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1994:69:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"functionReturnParameters":71006,"id":71030,"nodeType":"Return","src":"1987:76:102"}]}]},"documentation":{"id":70995,"nodeType":"StructuredDocumentation","src":"1478:192:102","text":" @dev Calculates the fee amount that will be charged, rounding up\n @param amount The amount\n @param totalFee The total fee\n @return feeAmount The fee amount"},"implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":71002,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70999,"src":"1755:8:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":71003,"kind":"modifierInvocation","modifierName":{"id":71001,"name":"verifyFee","nameLocations":["1745:9:102"],"nodeType":"IdentifierPath","referencedDeclaration":70945,"src":"1745:9:102"},"nodeType":"ModifierInvocation","src":"1745:19:102"}],"name":"getFeeAmount","nameLocation":"1684:12:102","parameters":{"id":71000,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70997,"mutability":"mutable","name":"amount","nameLocation":"1705:6:102","nodeType":"VariableDeclaration","scope":71033,"src":"1697:14:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70996,"name":"uint128","nodeType":"ElementaryTypeName","src":"1697:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70999,"mutability":"mutable","name":"totalFee","nameLocation":"1721:8:102","nodeType":"VariableDeclaration","scope":71033,"src":"1713:16:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70998,"name":"uint128","nodeType":"ElementaryTypeName","src":"1713:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"1696:34:102"},"returnParameters":{"id":71006,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71005,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":71033,"src":"1774:7:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71004,"name":"uint128","nodeType":"ElementaryTypeName","src":"1774:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"1773:9:102"},"scope":71118,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":71074,"nodeType":"FunctionDefinition","src":"2316:501:102","nodes":[],"body":{"id":71073,"nodeType":"Block","src":"2473:344:102","nodes":[],"statements":[{"id":71072,"nodeType":"UncheckedBlock","src":"2483:328:102","statements":[{"assignments":[71047],"declarations":[{"constant":false,"id":71047,"mutability":"mutable","name":"denominator","nameLocation":"2515:11:102","nodeType":"VariableDeclaration","scope":71072,"src":"2507:19:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71046,"name":"uint256","nodeType":"ElementaryTypeName","src":"2507:7:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":71050,"initialValue":{"expression":{"id":71048,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"2529:9:102","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":71049,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2539:17:102","memberName":"SQUARED_PRECISION","nodeType":"MemberAccess","referencedDeclaration":70906,"src":"2529:27:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2507:49:102"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71069,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71067,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71058,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":71055,"name":"amountWithFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71036,"src":"2715:14:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":71054,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2707:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":71053,"name":"uint256","nodeType":"ElementaryTypeName","src":"2707:7:102","typeDescriptions":{}}},"id":71056,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2707:23:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":71057,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71038,"src":"2733:8:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"2707:34:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71065,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":71061,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71038,"src":"2753:8:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":71060,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2745:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":71059,"name":"uint256","nodeType":"ElementaryTypeName","src":"2745:7:102","typeDescriptions":{}}},"id":71062,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2745:17:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":71063,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"2765:9:102","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":71064,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2775:9:102","memberName":"PRECISION","nodeType":"MemberAccess","referencedDeclaration":70901,"src":"2765:19:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2745:39:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":71066,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2744:41:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2707:78:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":71068,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71047,"src":"2788:11:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2707:92:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":71052,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2699:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":71051,"name":"uint128","nodeType":"ElementaryTypeName","src":"2699:7:102","typeDescriptions":{}}},"id":71070,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2699:101:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"functionReturnParameters":71045,"id":71071,"nodeType":"Return","src":"2692:108:102"}]}]},"documentation":{"id":71034,"nodeType":"StructuredDocumentation","src":"2086:225:102","text":" @dev Calculates the composition fee amount from the amount with fees, rounding down\n @param amountWithFees The amount with fees\n @param totalFee The total fee\n @return The amount with fees"},"implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":71041,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71038,"src":"2433:8:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":71042,"kind":"modifierInvocation","modifierName":{"id":71040,"name":"verifyFee","nameLocations":["2423:9:102"],"nodeType":"IdentifierPath","referencedDeclaration":70945,"src":"2423:9:102"},"nodeType":"ModifierInvocation","src":"2423:19:102"}],"name":"getCompositionFee","nameLocation":"2325:17:102","parameters":{"id":71039,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71036,"mutability":"mutable","name":"amountWithFees","nameLocation":"2351:14:102","nodeType":"VariableDeclaration","scope":71074,"src":"2343:22:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71035,"name":"uint128","nodeType":"ElementaryTypeName","src":"2343:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":71038,"mutability":"mutable","name":"totalFee","nameLocation":"2375:8:102","nodeType":"VariableDeclaration","scope":71074,"src":"2367:16:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71037,"name":"uint128","nodeType":"ElementaryTypeName","src":"2367:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"2342:42:102"},"returnParameters":{"id":71045,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71044,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":71074,"src":"2460:7:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71043,"name":"uint128","nodeType":"ElementaryTypeName","src":"2460:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"2459:9:102"},"scope":71118,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":71102,"nodeType":"FunctionDefinition","src":"3087:304:102","nodes":[],"body":{"id":71101,"nodeType":"Block","src":"3262:129:102","nodes":[],"statements":[{"id":71100,"nodeType":"UncheckedBlock","src":"3272:113:102","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71097,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":71091,"name":"feeAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71077,"src":"3319:9:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":71090,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3311:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":71089,"name":"uint256","nodeType":"ElementaryTypeName","src":"3311:7:102","typeDescriptions":{}}},"id":71092,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3311:18:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":71093,"name":"protocolShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71079,"src":"3332:13:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"3311:34:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"id":71095,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"3348:9:102","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":71096,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3358:15:102","memberName":"BASIS_POINT_MAX","nodeType":"MemberAccess","referencedDeclaration":70915,"src":"3348:25:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3311:62:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":71088,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3303:7:102","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":71087,"name":"uint128","nodeType":"ElementaryTypeName","src":"3303:7:102","typeDescriptions":{}}},"id":71098,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3303:71:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"functionReturnParameters":71086,"id":71099,"nodeType":"Return","src":"3296:78:102"}]}]},"documentation":{"id":71075,"nodeType":"StructuredDocumentation","src":"2823:259:102","text":" @dev Calculates the protocol fee amount from the fee amount and the protocol share, rounding down\n @param feeAmount The fee amount\n @param protocolShare The protocol share\n @return protocolFeeAmount The protocol fee amount"},"implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":71082,"name":"protocolShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71079,"src":"3217:13:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":71083,"kind":"modifierInvocation","modifierName":{"id":71081,"name":"verifyProtocolShare","nameLocations":["3197:19:102"],"nodeType":"IdentifierPath","referencedDeclaration":70960,"src":"3197:19:102"},"nodeType":"ModifierInvocation","src":"3197:34:102"}],"name":"getProtocolFeeAmount","nameLocation":"3096:20:102","parameters":{"id":71080,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71077,"mutability":"mutable","name":"feeAmount","nameLocation":"3125:9:102","nodeType":"VariableDeclaration","scope":71102,"src":"3117:17:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71076,"name":"uint128","nodeType":"ElementaryTypeName","src":"3117:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":71079,"mutability":"mutable","name":"protocolShare","nameLocation":"3144:13:102","nodeType":"VariableDeclaration","scope":71102,"src":"3136:21:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71078,"name":"uint128","nodeType":"ElementaryTypeName","src":"3136:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"3116:42:102"},"returnParameters":{"id":71086,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71085,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":71102,"src":"3249:7:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71084,"name":"uint128","nodeType":"ElementaryTypeName","src":"3249:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"3248:9:102"},"scope":71118,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":71117,"nodeType":"FunctionDefinition","src":"3508:123:102","nodes":[],"body":{"id":71116,"nodeType":"Block","src":"3554:77:102","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":71111,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":71108,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71105,"src":"3568:3:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"id":71109,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"3574:9:102","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":71110,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3584:7:102","memberName":"MAX_FEE","nodeType":"MemberAccess","referencedDeclaration":70909,"src":"3574:17:102","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3568:23:102","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":71115,"nodeType":"IfStatement","src":"3564:60:102","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":71112,"name":"FeeHelper__FeeTooLarge","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70932,"src":"3600:22:102","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":71113,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3600:24:102","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":71114,"nodeType":"RevertStatement","src":"3593:31:102"}}]},"documentation":{"id":71103,"nodeType":"StructuredDocumentation","src":"3397:106:102","text":" @dev Internal function to check that the fee is not too large\n @param fee The fee"},"implemented":true,"kind":"function","modifiers":[],"name":"_verifyFee","nameLocation":"3517:10:102","parameters":{"id":71106,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71105,"mutability":"mutable","name":"fee","nameLocation":"3536:3:102","nodeType":"VariableDeclaration","scope":71117,"src":"3528:11:102","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71104,"name":"uint128","nodeType":"ElementaryTypeName","src":"3528:7:102","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"3527:13:102"},"returnParameters":{"id":71107,"nodeType":"ParameterList","parameters":[],"src":"3554:0:102"},"scope":71118,"stateMutability":"pure","virtual":false,"visibility":"private"}],"abstract":false,"baseContracts":[],"canonicalName":"FeeHelper","contractDependencies":[],"contractKind":"library","documentation":{"id":70930,"nodeType":"StructuredDocumentation","src":"103:140:102","text":" @title Liquidity Book Fee Helper Library\n @author Trader Sovryn LB\n @notice This library contains functions to calculate fees"},"fullyImplemented":true,"linearizedBaseContracts":[71118],"name":"FeeHelper","nameLocation":"252:9:102","scope":71119,"usedErrors":[70932,70934],"usedEvents":[]}],"license":"MIT"},"id":102}