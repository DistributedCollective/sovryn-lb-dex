{"abi":[{"type":"error","name":"BinHelper__CompositionFactorFlawed","inputs":[{"name":"id","type":"uint24","internalType":"uint24"}]},{"type":"error","name":"BinHelper__LiquidityOverflow","inputs":[]},{"type":"error","name":"BinHelper__MaxLiquidityPerBinExceeded","inputs":[]}],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212201fca5c07fbd965b32183bfee8c48d231f25bb60a50a0a85bcad360e82875b1dc64736f6c63430008140033","sourceMap":"635:13728:99:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;635:13728:99;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212201fca5c07fbd965b32183bfee8c48d231f25bb60a50a0a85bcad360e82875b1dc64736f6c63430008140033","sourceMap":"635:13728:99:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint24\",\"name\":\"id\",\"type\":\"uint24\"}],\"name\":\"BinHelper__CompositionFactorFlawed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BinHelper__LiquidityOverflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BinHelper__MaxLiquidityPerBinExceeded\",\"type\":\"error\"}],\"devdoc\":{\"author\":\"Trader Sovryn LB\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Liquidity Book Bin Helper Library\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"This library contains functions to help interaction with bins.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/libraries/BinHelper.sol\":\"BinHelper\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xee2337af2dc162a973b4be6d3f7c16f06298259e0af48c5470d2839bfa8a22f4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://30c476b4b2f405c1bb3f0bae15b006d129c80f1bfd9d0f2038160a3bb9745009\",\"dweb:/ipfs/Qmb3VcuDufv6xbHeVgksC4tHpc5gKYVqBEwjEXW72XzSvN\"]},\"src/libraries/BinHelper.sol\":{\"keccak256\":\"0x799d219605a3f08df9ba0e7d4aee6a6a7f0ee2e64eed09e2e3f710e99da40b49\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://dda5893016c8b7057b4eb55c5c623ca501863bb9f3297d8e107b5c859fea1b7f\",\"dweb:/ipfs/Qmdvi9YhQ5JLyMC6Qx3zHn7NNKVt5DvFYEstDnHjP5xJJ6\"]},\"src/libraries/Constants.sol\":{\"keccak256\":\"0x9e8f98ab393cf7f0a7a0774b9f0f912ec5dd86fdfdd041423978f3d6acce21e2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://82b49fa2c74c482822957cc7bd9ba693e077c9024451be40f4a1037e2d5cf009\",\"dweb:/ipfs/QmbMP3LSYQttZhiPb2hpM7k1697HBo93Bi6DgQGoZZZ3ZD\"]},\"src/libraries/FeeHelper.sol\":{\"keccak256\":\"0xe8705347313b3e3fa998bd3e4b9585ff4a2e7c698dc5d8bc48e1a0f99dd8a084\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f148c2d49352330df0d8c51941a07035b9b73938a82bf797b2872c6872d687ee\",\"dweb:/ipfs/QmRuhLphH6joRyuryx322PvZjxtA3J122G86APyg4mjMra\"]},\"src/libraries/PairParameterHelper.sol\":{\"keccak256\":\"0xcc632c91ba3c5d4f749fe7ed78fdb19e3bde4fc8948aa46060cd8995474dd0d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://eedc0239528182198ea0d407383013bbccbf6532bb27c5066ff0776b02fd65e1\",\"dweb:/ipfs/QmR5yYS9ferSWq3VGb6Qw6v1cQeZKXgeQCzP4wvDNekx4f\"]},\"src/libraries/PriceHelper.sol\":{\"keccak256\":\"0x7a5ddde1ce4627d417c3c9a79d2259a77a82d72b222fb4fc2aafeb6eb98fa25a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9ef81235ab850bbefe635b8556bc97f7e2103e95eca4a62e6588976f9c529d9e\",\"dweb:/ipfs/Qmcwf3Sg3Awm7wHxZG56YkPwh5ghrp36jximk3ZKmvxCft\"]},\"src/libraries/TokenHelper.sol\":{\"keccak256\":\"0x5d1f5984b6c6bc9cfb4cad89e754ede3b01e9430f0572819f8ba18d8c7c2e154\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://382a71322e45e66df0fdc85e6a2f6dd968b4a7d1bee0dea02ea8525b1bf433e8\",\"dweb:/ipfs/QmW5SpmmmdjNPRAjfBEABV953nqgzmY8Tkays6wn8xL1wu\"]},\"src/libraries/math/BitMath.sol\":{\"keccak256\":\"0x58abecbbb2ae9860495bb1758ce2b9dd35c9f2881398c03a33b720771a7d2994\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://791a314f4187199412daf5240dc9ab449dff3780b60316b8b1c6d7ba1bd561de\",\"dweb:/ipfs/QmNQUg6wPr8YrifjvW5MtG1QstE7Gkxy5A7FTGqcGSxGFV\"]},\"src/libraries/math/Encoded.sol\":{\"keccak256\":\"0xa6752b1d81568f242adc2bbeb45fbc143c08dade1910ce5d27ff97067c4029ba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a1adf21fef72586d0b057fe6cbabb1e928fdbb54bf89b9fa9bcf798dfeb533d8\",\"dweb:/ipfs/QmQr8MgwAdZoVM4LCdXgWTtCcw8HkR6Sp9huc7U45tELwY\"]},\"src/libraries/math/PackedUint128Math.sol\":{\"keccak256\":\"0xb17b0f32ed8b0388cfd76d4d2d902ab125b87e63614e1e42d8f1d628aaaa7901\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://86cc6eed7dfbef7d32d703840698a6b2d0d603a20125cdf327dfe3d78f77c3b4\",\"dweb:/ipfs/QmaVh32AHevqAsWe75xNfog2b2Y5hGg7ksuvMnrYKhkXSf\"]},\"src/libraries/math/SafeCast.sol\":{\"keccak256\":\"0x6f11de18a77cf44364a598890c634a59d995dfa7a3fdea360d98e4549f6727ed\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d8a4477235fd194ab6464025148d1c2ff51088b0ffba4013e25a10d01c11722e\",\"dweb:/ipfs/QmVNf6Psg6QXFcWa3CMmUxJkvGaN8Z2SqFafsyJukgfZva\"]},\"src/libraries/math/Uint128x128Math.sol\":{\"keccak256\":\"0x580596dfca3fc3ec8f058e8832fdc063f276f8c5d1232c8ba1f134d6542d24ba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5fc1bab07db13bd6bc4f76049507554a70489a9c1316994f51e481276dcd7a7f\",\"dweb:/ipfs/QmaStcfFRCeLscGisCgzKpMc1tmJufgL61PRvtV9TCR5zb\"]},\"src/libraries/math/Uint256x256Math.sol\":{\"keccak256\":\"0x7d0e41d55d3f70d45e04cb082c0a4832af2bda49ed76116b49256521bfd22cf2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://01de3aa321eb2eb4e0f6098d6093ca03220156dd42c699b00f347d524f295242\",\"dweb:/ipfs/QmYbm5mMWBmv7v2jzDb9vxRqTp9BaFvZk9Jhi3MLv5FcwY\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint24","name":"id","type":"uint24"}],"type":"error","name":"BinHelper__CompositionFactorFlawed"},{"inputs":[],"type":"error","name":"BinHelper__LiquidityOverflow"},{"inputs":[],"type":"error","name":"BinHelper__MaxLiquidityPerBinExceeded"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":800},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/libraries/BinHelper.sol":"BinHelper"},"evmVersion":"paris","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xee2337af2dc162a973b4be6d3f7c16f06298259e0af48c5470d2839bfa8a22f4","urls":["bzz-raw://30c476b4b2f405c1bb3f0bae15b006d129c80f1bfd9d0f2038160a3bb9745009","dweb:/ipfs/Qmb3VcuDufv6xbHeVgksC4tHpc5gKYVqBEwjEXW72XzSvN"],"license":"MIT"},"src/libraries/BinHelper.sol":{"keccak256":"0x799d219605a3f08df9ba0e7d4aee6a6a7f0ee2e64eed09e2e3f710e99da40b49","urls":["bzz-raw://dda5893016c8b7057b4eb55c5c623ca501863bb9f3297d8e107b5c859fea1b7f","dweb:/ipfs/Qmdvi9YhQ5JLyMC6Qx3zHn7NNKVt5DvFYEstDnHjP5xJJ6"],"license":"MIT"},"src/libraries/Constants.sol":{"keccak256":"0x9e8f98ab393cf7f0a7a0774b9f0f912ec5dd86fdfdd041423978f3d6acce21e2","urls":["bzz-raw://82b49fa2c74c482822957cc7bd9ba693e077c9024451be40f4a1037e2d5cf009","dweb:/ipfs/QmbMP3LSYQttZhiPb2hpM7k1697HBo93Bi6DgQGoZZZ3ZD"],"license":"MIT"},"src/libraries/FeeHelper.sol":{"keccak256":"0xe8705347313b3e3fa998bd3e4b9585ff4a2e7c698dc5d8bc48e1a0f99dd8a084","urls":["bzz-raw://f148c2d49352330df0d8c51941a07035b9b73938a82bf797b2872c6872d687ee","dweb:/ipfs/QmRuhLphH6joRyuryx322PvZjxtA3J122G86APyg4mjMra"],"license":"MIT"},"src/libraries/PairParameterHelper.sol":{"keccak256":"0xcc632c91ba3c5d4f749fe7ed78fdb19e3bde4fc8948aa46060cd8995474dd0d3","urls":["bzz-raw://eedc0239528182198ea0d407383013bbccbf6532bb27c5066ff0776b02fd65e1","dweb:/ipfs/QmR5yYS9ferSWq3VGb6Qw6v1cQeZKXgeQCzP4wvDNekx4f"],"license":"MIT"},"src/libraries/PriceHelper.sol":{"keccak256":"0x7a5ddde1ce4627d417c3c9a79d2259a77a82d72b222fb4fc2aafeb6eb98fa25a","urls":["bzz-raw://9ef81235ab850bbefe635b8556bc97f7e2103e95eca4a62e6588976f9c529d9e","dweb:/ipfs/Qmcwf3Sg3Awm7wHxZG56YkPwh5ghrp36jximk3ZKmvxCft"],"license":"MIT"},"src/libraries/TokenHelper.sol":{"keccak256":"0x5d1f5984b6c6bc9cfb4cad89e754ede3b01e9430f0572819f8ba18d8c7c2e154","urls":["bzz-raw://382a71322e45e66df0fdc85e6a2f6dd968b4a7d1bee0dea02ea8525b1bf433e8","dweb:/ipfs/QmW5SpmmmdjNPRAjfBEABV953nqgzmY8Tkays6wn8xL1wu"],"license":"MIT"},"src/libraries/math/BitMath.sol":{"keccak256":"0x58abecbbb2ae9860495bb1758ce2b9dd35c9f2881398c03a33b720771a7d2994","urls":["bzz-raw://791a314f4187199412daf5240dc9ab449dff3780b60316b8b1c6d7ba1bd561de","dweb:/ipfs/QmNQUg6wPr8YrifjvW5MtG1QstE7Gkxy5A7FTGqcGSxGFV"],"license":"MIT"},"src/libraries/math/Encoded.sol":{"keccak256":"0xa6752b1d81568f242adc2bbeb45fbc143c08dade1910ce5d27ff97067c4029ba","urls":["bzz-raw://a1adf21fef72586d0b057fe6cbabb1e928fdbb54bf89b9fa9bcf798dfeb533d8","dweb:/ipfs/QmQr8MgwAdZoVM4LCdXgWTtCcw8HkR6Sp9huc7U45tELwY"],"license":"MIT"},"src/libraries/math/PackedUint128Math.sol":{"keccak256":"0xb17b0f32ed8b0388cfd76d4d2d902ab125b87e63614e1e42d8f1d628aaaa7901","urls":["bzz-raw://86cc6eed7dfbef7d32d703840698a6b2d0d603a20125cdf327dfe3d78f77c3b4","dweb:/ipfs/QmaVh32AHevqAsWe75xNfog2b2Y5hGg7ksuvMnrYKhkXSf"],"license":"MIT"},"src/libraries/math/SafeCast.sol":{"keccak256":"0x6f11de18a77cf44364a598890c634a59d995dfa7a3fdea360d98e4549f6727ed","urls":["bzz-raw://d8a4477235fd194ab6464025148d1c2ff51088b0ffba4013e25a10d01c11722e","dweb:/ipfs/QmVNf6Psg6QXFcWa3CMmUxJkvGaN8Z2SqFafsyJukgfZva"],"license":"MIT"},"src/libraries/math/Uint128x128Math.sol":{"keccak256":"0x580596dfca3fc3ec8f058e8832fdc063f276f8c5d1232c8ba1f134d6542d24ba","urls":["bzz-raw://5fc1bab07db13bd6bc4f76049507554a70489a9c1316994f51e481276dcd7a7f","dweb:/ipfs/QmaStcfFRCeLscGisCgzKpMc1tmJufgL61PRvtV9TCR5zb"],"license":"MIT"},"src/libraries/math/Uint256x256Math.sol":{"keccak256":"0x7d0e41d55d3f70d45e04cb082c0a4832af2bda49ed76116b49256521bfd22cf2","urls":["bzz-raw://01de3aa321eb2eb4e0f6098d6093ca03220156dd42c699b00f347d524f295242","dweb:/ipfs/QmYbm5mMWBmv7v2jzDb9vxRqTp9BaFvZk9Jhi3MLv5FcwY"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/libraries/BinHelper.sol","id":70766,"exportedSymbols":{"BinHelper":[70765],"Constants":[70925],"FeeHelper":[71118],"IERC20":[42258],"PackedUint128Math":[75004],"PairParameterHelper":[73584],"PriceHelper":[73758],"SafeCast":[75752],"TokenHelper":[74179],"Uint256x256Math":[77745]},"nodeType":"SourceUnit","src":"33:14331:99","nodes":[{"id":69808,"nodeType":"PragmaDirective","src":"33:24:99","nodes":[],"literals":["solidity","^","0.8",".10"]},{"id":69810,"nodeType":"ImportDirective","src":"59:63:99","nodes":[],"absolutePath":"src/libraries/math/PackedUint128Math.sol","file":"./math/PackedUint128Math.sol","nameLocation":"-1:-1:-1","scope":70766,"sourceUnit":75005,"symbolAliases":[{"foreign":{"id":69809,"name":"PackedUint128Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":75004,"src":"67:17:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69812,"nodeType":"ImportDirective","src":"123:59:99","nodes":[],"absolutePath":"src/libraries/math/Uint256x256Math.sol","file":"./math/Uint256x256Math.sol","nameLocation":"-1:-1:-1","scope":70766,"sourceUnit":77746,"symbolAliases":[{"foreign":{"id":69811,"name":"Uint256x256Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":77745,"src":"131:15:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69814,"nodeType":"ImportDirective","src":"183:45:99","nodes":[],"absolutePath":"src/libraries/math/SafeCast.sol","file":"./math/SafeCast.sol","nameLocation":"-1:-1:-1","scope":70766,"sourceUnit":75753,"symbolAliases":[{"foreign":{"id":69813,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":75752,"src":"191:8:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69816,"nodeType":"ImportDirective","src":"229:42:99","nodes":[],"absolutePath":"src/libraries/Constants.sol","file":"./Constants.sol","nameLocation":"-1:-1:-1","scope":70766,"sourceUnit":70926,"symbolAliases":[{"foreign":{"id":69815,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"237:9:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69818,"nodeType":"ImportDirective","src":"272:62:99","nodes":[],"absolutePath":"src/libraries/PairParameterHelper.sol","file":"./PairParameterHelper.sol","nameLocation":"-1:-1:-1","scope":70766,"sourceUnit":73585,"symbolAliases":[{"foreign":{"id":69817,"name":"PairParameterHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73584,"src":"280:19:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69820,"nodeType":"ImportDirective","src":"335:42:99","nodes":[],"absolutePath":"src/libraries/FeeHelper.sol","file":"./FeeHelper.sol","nameLocation":"-1:-1:-1","scope":70766,"sourceUnit":71119,"symbolAliases":[{"foreign":{"id":69819,"name":"FeeHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71118,"src":"343:9:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69822,"nodeType":"ImportDirective","src":"378:46:99","nodes":[],"absolutePath":"src/libraries/PriceHelper.sol","file":"./PriceHelper.sol","nameLocation":"-1:-1:-1","scope":70766,"sourceUnit":73759,"symbolAliases":[{"foreign":{"id":69821,"name":"PriceHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73758,"src":"386:11:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69825,"nodeType":"ImportDirective","src":"425:54:99","nodes":[],"absolutePath":"src/libraries/TokenHelper.sol","file":"./TokenHelper.sol","nameLocation":"-1:-1:-1","scope":70766,"sourceUnit":74180,"symbolAliases":[{"foreign":{"id":69823,"name":"TokenHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74179,"src":"433:11:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":69824,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42258,"src":"446:6:99","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":70765,"nodeType":"ContractDefinition","src":"635:13728:99","nodes":[{"id":69829,"nodeType":"UsingForDirective","src":"659:36:99","nodes":[],"global":false,"libraryName":{"id":69827,"name":"PackedUint128Math","nameLocations":["665:17:99"],"nodeType":"IdentifierPath","referencedDeclaration":75004,"src":"665:17:99"},"typeName":{"id":69828,"name":"bytes32","nodeType":"ElementaryTypeName","src":"687:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":69832,"nodeType":"UsingForDirective","src":"700:36:99","nodes":[],"global":false,"libraryName":{"id":69830,"name":"PackedUint128Math","nameLocations":["706:17:99"],"nodeType":"IdentifierPath","referencedDeclaration":75004,"src":"706:17:99"},"typeName":{"id":69831,"name":"uint128","nodeType":"ElementaryTypeName","src":"728:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}},{"id":69835,"nodeType":"UsingForDirective","src":"741:34:99","nodes":[],"global":false,"libraryName":{"id":69833,"name":"Uint256x256Math","nameLocations":["747:15:99"],"nodeType":"IdentifierPath","referencedDeclaration":77745,"src":"747:15:99"},"typeName":{"id":69834,"name":"uint256","nodeType":"ElementaryTypeName","src":"767:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":69838,"nodeType":"UsingForDirective","src":"780:29:99","nodes":[],"global":false,"libraryName":{"id":69836,"name":"PriceHelper","nameLocations":["786:11:99"],"nodeType":"IdentifierPath","referencedDeclaration":73758,"src":"786:11:99"},"typeName":{"id":69837,"name":"uint24","nodeType":"ElementaryTypeName","src":"802:6:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}},{"id":69841,"nodeType":"UsingForDirective","src":"814:27:99","nodes":[],"global":false,"libraryName":{"id":69839,"name":"SafeCast","nameLocations":["820:8:99"],"nodeType":"IdentifierPath","referencedDeclaration":75752,"src":"820:8:99"},"typeName":{"id":69840,"name":"uint256","nodeType":"ElementaryTypeName","src":"833:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":69844,"nodeType":"UsingForDirective","src":"846:38:99","nodes":[],"global":false,"libraryName":{"id":69842,"name":"PairParameterHelper","nameLocations":["852:19:99"],"nodeType":"IdentifierPath","referencedDeclaration":73584,"src":"852:19:99"},"typeName":{"id":69843,"name":"bytes32","nodeType":"ElementaryTypeName","src":"876:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":69847,"nodeType":"UsingForDirective","src":"889:28:99","nodes":[],"global":false,"libraryName":{"id":69845,"name":"FeeHelper","nameLocations":["895:9:99"],"nodeType":"IdentifierPath","referencedDeclaration":71118,"src":"895:9:99"},"typeName":{"id":69846,"name":"uint128","nodeType":"ElementaryTypeName","src":"909:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}},{"id":69851,"nodeType":"UsingForDirective","src":"922:29:99","nodes":[],"global":false,"libraryName":{"id":69848,"name":"TokenHelper","nameLocations":["928:11:99"],"nodeType":"IdentifierPath","referencedDeclaration":74179,"src":"928:11:99"},"typeName":{"id":69850,"nodeType":"UserDefinedTypeName","pathNode":{"id":69849,"name":"IERC20","nameLocations":["944:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"944:6:99"},"referencedDeclaration":42258,"src":"944:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}}},{"id":69855,"nodeType":"ErrorDefinition","src":"957:52:99","nodes":[],"errorSelector":"89ef61c4","name":"BinHelper__CompositionFactorFlawed","nameLocation":"963:34:99","parameters":{"id":69854,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69853,"mutability":"mutable","name":"id","nameLocation":"1005:2:99","nodeType":"VariableDeclaration","scope":69855,"src":"998:9:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":69852,"name":"uint24","nodeType":"ElementaryTypeName","src":"998:6:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"997:11:99"}},{"id":69857,"nodeType":"ErrorDefinition","src":"1014:37:99","nodes":[],"errorSelector":"63f1e01f","name":"BinHelper__LiquidityOverflow","nameLocation":"1020:28:99","parameters":{"id":69856,"nodeType":"ParameterList","parameters":[],"src":"1048:2:99"}},{"id":69859,"nodeType":"ErrorDefinition","src":"1056:46:99","nodes":[],"errorSelector":"a2d76527","name":"BinHelper__MaxLiquidityPerBinExceeded","nameLocation":"1062:37:99","parameters":{"id":69858,"nodeType":"ParameterList","parameters":[],"src":"1099:2:99"}},{"id":69925,"nodeType":"FunctionDefinition","src":"1481:666:99","nodes":[],"body":{"id":69924,"nodeType":"Block","src":"1643:504:99","nodes":[],"statements":[{"assignments":[69872,69874],"declarations":[{"constant":false,"id":69872,"mutability":"mutable","name":"binReserveX","nameLocation":"1662:11:99","nodeType":"VariableDeclaration","scope":69924,"src":"1654:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":69871,"name":"uint128","nodeType":"ElementaryTypeName","src":"1654:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":69874,"mutability":"mutable","name":"binReserveY","nameLocation":"1683:11:99","nodeType":"VariableDeclaration","scope":69924,"src":"1675:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":69873,"name":"uint128","nodeType":"ElementaryTypeName","src":"1675:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":69878,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":69875,"name":"binReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69862,"src":"1698:11:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":69876,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1710:6:99","memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":74736,"src":"1698:18:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128,uint128)"}},"id":69877,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1698:20:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint128_$_t_uint128_$","typeString":"tuple(uint128,uint128)"}},"nodeType":"VariableDeclarationStatement","src":"1653:65:99"},{"assignments":[69880],"declarations":[{"constant":false,"id":69880,"mutability":"mutable","name":"amountXOutFromBin","nameLocation":"1737:17:99","nodeType":"VariableDeclaration","scope":69924,"src":"1729:25:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":69879,"name":"uint128","nodeType":"ElementaryTypeName","src":"1729:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":69881,"nodeType":"VariableDeclarationStatement","src":"1729:25:99"},{"assignments":[69883],"declarations":[{"constant":false,"id":69883,"mutability":"mutable","name":"amountYOutFromBin","nameLocation":"1772:17:99","nodeType":"VariableDeclaration","scope":69924,"src":"1764:25:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":69882,"name":"uint128","nodeType":"ElementaryTypeName","src":"1764:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":69884,"nodeType":"VariableDeclarationStatement","src":"1764:25:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":69887,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69885,"name":"binReserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69872,"src":"1804:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":69886,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1818:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1804:15:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":69900,"nodeType":"IfStatement","src":"1800:132:99","trueBody":{"id":69899,"nodeType":"Block","src":"1821:111:99","statements":[{"expression":{"id":69897,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":69888,"name":"amountXOutFromBin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69880,"src":"1835:17:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"arguments":[{"id":69891,"name":"binReserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69872,"src":"1885:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":69892,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69866,"src":"1898:11:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":69889,"name":"amountToBurn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69864,"src":"1856:12:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69890,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1869:15:99","memberName":"mulDivRoundDown","nodeType":"MemberAccess","referencedDeclaration":77374,"src":"1856:28:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":69893,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1856:54:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":69894,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1855:56:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69895,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1912:7:99","memberName":"safe128","nodeType":"MemberAccess","referencedDeclaration":75421,"src":"1855:64:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":69896,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1855:66:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"1835:86:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":69898,"nodeType":"ExpressionStatement","src":"1835:86:99"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":69903,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69901,"name":"binReserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69874,"src":"1946:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":69902,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1960:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1946:15:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":69916,"nodeType":"IfStatement","src":"1942:132:99","trueBody":{"id":69915,"nodeType":"Block","src":"1963:111:99","statements":[{"expression":{"id":69913,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":69904,"name":"amountYOutFromBin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69883,"src":"1977:17:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"arguments":[{"id":69907,"name":"binReserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69874,"src":"2027:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":69908,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69866,"src":"2040:11:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":69905,"name":"amountToBurn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69864,"src":"1998:12:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69906,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2011:15:99","memberName":"mulDivRoundDown","nodeType":"MemberAccess","referencedDeclaration":77374,"src":"1998:28:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":69909,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1998:54:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":69910,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1997:56:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69911,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2054:7:99","memberName":"safe128","nodeType":"MemberAccess","referencedDeclaration":75421,"src":"1997:64:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":69912,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1997:66:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"1977:86:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":69914,"nodeType":"ExpressionStatement","src":"1977:86:99"}]}},{"expression":{"id":69922,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":69917,"name":"amountsOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69869,"src":"2084:10:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":69920,"name":"amountYOutFromBin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69883,"src":"2122:17:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":69918,"name":"amountXOutFromBin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69880,"src":"2097:17:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":69919,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2115:6:99","memberName":"encode","nodeType":"MemberAccess","referencedDeclaration":74684,"src":"2097:24:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128,uint128) pure returns (bytes32)"}},"id":69921,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2097:43:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2084:56:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":69923,"nodeType":"ExpressionStatement","src":"2084:56:99"}]},"documentation":{"id":69860,"nodeType":"StructuredDocumentation","src":"1108:368:99","text":" @dev Returns the amount of tokens that will be received when burning the given amount of liquidity\n @param binReserves The reserves of the bin\n @param amountToBurn The amount of liquidity to burn\n @param totalSupply The total supply of the liquidity book\n @return amountsOut The encoded amount of tokens that will be received"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmountOutOfBin","nameLocation":"1490:17:99","parameters":{"id":69867,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69862,"mutability":"mutable","name":"binReserves","nameLocation":"1516:11:99","nodeType":"VariableDeclaration","scope":69925,"src":"1508:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69861,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1508:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":69864,"mutability":"mutable","name":"amountToBurn","nameLocation":"1537:12:99","nodeType":"VariableDeclaration","scope":69925,"src":"1529:20:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69863,"name":"uint256","nodeType":"ElementaryTypeName","src":"1529:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":69866,"mutability":"mutable","name":"totalSupply","nameLocation":"1559:11:99","nodeType":"VariableDeclaration","scope":69925,"src":"1551:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69865,"name":"uint256","nodeType":"ElementaryTypeName","src":"1551:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1507:64:99"},"returnParameters":{"id":69870,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69869,"mutability":"mutable","name":"amountsOut","nameLocation":"1627:10:99","nodeType":"VariableDeclaration","scope":69925,"src":"1619:18:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69868,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1619:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1618:20:99"},"scope":70765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70103,"nodeType":"FunctionDefinition","src":"2792:1683:99","nodes":[],"body":{"id":70102,"nodeType":"Block","src":"3003:1472:99","nodes":[],"statements":[{"assignments":[69942,69944],"declarations":[{"constant":false,"id":69942,"mutability":"mutable","name":"x","nameLocation":"3022:1:99","nodeType":"VariableDeclaration","scope":70102,"src":"3014:9:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69941,"name":"uint256","nodeType":"ElementaryTypeName","src":"3014:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":69944,"mutability":"mutable","name":"y","nameLocation":"3033:1:99","nodeType":"VariableDeclaration","scope":70102,"src":"3025:9:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69943,"name":"uint256","nodeType":"ElementaryTypeName","src":"3025:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":69948,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":69945,"name":"amountsIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69930,"src":"3038:9:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":69946,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3048:6:99","memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":74736,"src":"3038:16:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128,uint128)"}},"id":69947,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3038:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint128_$_t_uint128_$","typeString":"tuple(uint128,uint128)"}},"nodeType":"VariableDeclarationStatement","src":"3013:43:99"},{"assignments":[69950],"declarations":[{"constant":false,"id":69950,"mutability":"mutable","name":"userLiquidity","nameLocation":"3075:13:99","nodeType":"VariableDeclaration","scope":70102,"src":"3067:21:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69949,"name":"uint256","nodeType":"ElementaryTypeName","src":"3067:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":69956,"initialValue":{"arguments":[{"id":69952,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69942,"src":"3104:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":69953,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69944,"src":"3107:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":69954,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69932,"src":"3110:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":69951,"name":"getLiquidity","nodeType":"Identifier","overloadedDeclarations":[70128,70186],"referencedDeclaration":70186,"src":"3091:12:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":69955,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3091:25:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3067:49:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":69959,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69957,"name":"userLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69950,"src":"3130:13:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":69958,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3147:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3130:18:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":69964,"nodeType":"IfStatement","src":"3126:37:99","trueBody":{"expression":{"components":[{"hexValue":"30","id":69960,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3158:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":69961,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3161:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":69962,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"3157:6:99","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":69940,"id":69963,"nodeType":"Return","src":"3150:13:99"}},{"assignments":[69966],"declarations":[{"constant":false,"id":69966,"mutability":"mutable","name":"binLiquidity","nameLocation":"3182:12:99","nodeType":"VariableDeclaration","scope":70102,"src":"3174:20:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69965,"name":"uint256","nodeType":"ElementaryTypeName","src":"3174:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":69971,"initialValue":{"arguments":[{"id":69968,"name":"binReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69928,"src":"3210:11:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":69969,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69932,"src":"3223:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":69967,"name":"getLiquidity","nodeType":"Identifier","overloadedDeclarations":[70128,70186],"referencedDeclaration":70128,"src":"3197:12:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint256_$returns$_t_uint256_$","typeString":"function (bytes32,uint256) pure returns (uint256)"}},"id":69970,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3197:32:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3174:55:99"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":69978,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":69974,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69972,"name":"binLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69966,"src":"3243:12:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":69973,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3259:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3243:17:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":69977,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69975,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69934,"src":"3264:11:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":69976,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3279:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3264:16:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3243:37:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":69985,"nodeType":"IfStatement","src":"3239:83:99","trueBody":{"expression":{"components":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":69979,"name":"userLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69950,"src":"3290:13:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69980,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3304:4:99","memberName":"sqrt","nodeType":"MemberAccess","referencedDeclaration":77744,"src":"3290:18:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":69981,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3290:20:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":69982,"name":"amountsIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69930,"src":"3312:9:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":69983,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3289:33:99","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bytes32_$","typeString":"tuple(uint256,bytes32)"}},"functionReturnParameters":69940,"id":69984,"nodeType":"Return","src":"3282:40:99"}},{"expression":{"id":69992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":69986,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69937,"src":"3333:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":69989,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69934,"src":"3372:11:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":69990,"name":"binLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69966,"src":"3385:12:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":69987,"name":"userLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69950,"src":"3342:13:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69988,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3356:15:99","memberName":"mulDivRoundDown","nodeType":"MemberAccess","referencedDeclaration":77374,"src":"3342:29:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":69991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3342:56:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3333:65:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69993,"nodeType":"ExpressionStatement","src":"3333:65:99"},{"assignments":[69995],"declarations":[{"constant":false,"id":69995,"mutability":"mutable","name":"effectiveLiquidity","nameLocation":"3416:18:99","nodeType":"VariableDeclaration","scope":70102,"src":"3408:26:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69994,"name":"uint256","nodeType":"ElementaryTypeName","src":"3408:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70001,"initialValue":{"arguments":[{"id":69998,"name":"binLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69966,"src":"3458:12:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":69999,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69934,"src":"3472:11:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":69996,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69937,"src":"3437:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69997,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3444:13:99","memberName":"mulDivRoundUp","nodeType":"MemberAccess","referencedDeclaration":77407,"src":"3437:20:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70000,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3437:47:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3408:76:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70004,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70002,"name":"userLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69950,"src":"3499:13:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":70003,"name":"effectiveLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69995,"src":"3515:18:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3499:34:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70082,"nodeType":"IfStatement","src":"3495:769:99","trueBody":{"id":70081,"nodeType":"Block","src":"3535:729:99","statements":[{"assignments":[70006],"declarations":[{"constant":false,"id":70006,"mutability":"mutable","name":"deltaLiquidity","nameLocation":"3557:14:99","nodeType":"VariableDeclaration","scope":70081,"src":"3549:22:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70005,"name":"uint256","nodeType":"ElementaryTypeName","src":"3549:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70010,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70007,"name":"userLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69950,"src":"3574:13:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70008,"name":"effectiveLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69995,"src":"3590:18:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3574:34:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3549:59:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70014,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70011,"name":"deltaLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70006,"src":"3730:14:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":70012,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"3748:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70013,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3758:5:99","memberName":"SCALE","nodeType":"MemberAccess","referencedDeclaration":70898,"src":"3748:15:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3730:33:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70043,"nodeType":"IfStatement","src":"3726:277:99","trueBody":{"id":70042,"nodeType":"Block","src":"3765:238:99","statements":[{"assignments":[70016],"declarations":[{"constant":false,"id":70016,"mutability":"mutable","name":"deltaY","nameLocation":"3791:6:99","nodeType":"VariableDeclaration","scope":70042,"src":"3783:14:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70015,"name":"uint256","nodeType":"ElementaryTypeName","src":"3783:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70021,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70020,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70017,"name":"deltaLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70006,"src":"3800:14:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"expression":{"id":70018,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"3818:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70019,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3828:12:99","memberName":"SCALE_OFFSET","nodeType":"MemberAccess","referencedDeclaration":70893,"src":"3818:22:99","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"3800:40:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3783:57:99"},{"expression":{"id":70029,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70022,"name":"deltaY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70016,"src":"3858:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70025,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70023,"name":"deltaY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70016,"src":"3867:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":70024,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69944,"src":"3876:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3867:10:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":70027,"name":"deltaY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70016,"src":"3884:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70028,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"3867:23:99","trueExpression":{"id":70026,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69944,"src":"3880:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3858:32:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70030,"nodeType":"ExpressionStatement","src":"3858:32:99"},{"expression":{"id":70033,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70031,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69944,"src":"3909:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"id":70032,"name":"deltaY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70016,"src":"3914:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3909:11:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70034,"nodeType":"ExpressionStatement","src":"3909:11:99"},{"expression":{"id":70040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70035,"name":"deltaLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70006,"src":"3938:14:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70039,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70036,"name":"deltaY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70016,"src":"3956:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":70037,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"3966:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70038,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3976:12:99","memberName":"SCALE_OFFSET","nodeType":"MemberAccess","referencedDeclaration":70893,"src":"3966:22:99","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"3956:32:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3938:50:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70041,"nodeType":"ExpressionStatement","src":"3938:50:99"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70046,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70044,"name":"deltaLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70006,"src":"4021:14:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":70045,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69932,"src":"4039:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4021:23:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70067,"nodeType":"IfStatement","src":"4017:181:99","trueBody":{"id":70066,"nodeType":"Block","src":"4046:152:99","statements":[{"assignments":[70048],"declarations":[{"constant":false,"id":70048,"mutability":"mutable","name":"deltaX","nameLocation":"4072:6:99","nodeType":"VariableDeclaration","scope":70066,"src":"4064:14:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70047,"name":"uint256","nodeType":"ElementaryTypeName","src":"4064:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70052,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70051,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70049,"name":"deltaLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70006,"src":"4081:14:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":70050,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69932,"src":"4098:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4081:22:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4064:39:99"},{"expression":{"id":70060,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70053,"name":"deltaX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70048,"src":"4121:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70054,"name":"deltaX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70048,"src":"4130:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":70055,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69942,"src":"4139:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4130:10:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":70058,"name":"deltaX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70048,"src":"4147:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4130:23:99","trueExpression":{"id":70057,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69942,"src":"4143:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4121:32:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70061,"nodeType":"ExpressionStatement","src":"4121:32:99"},{"expression":{"id":70064,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70062,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69942,"src":"4172:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"id":70063,"name":"deltaX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70048,"src":"4177:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4172:11:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70065,"nodeType":"ExpressionStatement","src":"4172:11:99"}]}},{"expression":{"id":70079,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70068,"name":"amountsIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69930,"src":"4212:9:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":70076,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69944,"src":"4250:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70075,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4242:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":70074,"name":"uint128","nodeType":"ElementaryTypeName","src":"4242:7:99","typeDescriptions":{}}},"id":70077,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4242:10:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"arguments":[{"id":70071,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69942,"src":"4232:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70070,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4224:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":70069,"name":"uint128","nodeType":"ElementaryTypeName","src":"4224:7:99","typeDescriptions":{}}},"id":70072,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4224:10:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70073,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4235:6:99","memberName":"encode","nodeType":"MemberAccess","referencedDeclaration":74684,"src":"4224:17:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128,uint128) pure returns (bytes32)"}},"id":70078,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4224:29:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4212:41:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70080,"nodeType":"ExpressionStatement","src":"4212:41:99"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":70086,"name":"amountsIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69930,"src":"4307:9:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":70084,"name":"binReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69928,"src":"4291:11:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70085,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4303:3:99","memberName":"add","nodeType":"MemberAccess","referencedDeclaration":74812,"src":"4291:15:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$returns$_t_bytes32_$attached_to$_t_bytes32_$","typeString":"function (bytes32,bytes32) pure returns (bytes32)"}},"id":70087,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4291:26:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":70088,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69932,"src":"4319:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70083,"name":"getLiquidity","nodeType":"Identifier","overloadedDeclarations":[70128,70186],"referencedDeclaration":70128,"src":"4278:12:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint256_$returns$_t_uint256_$","typeString":"function (bytes32,uint256) pure returns (uint256)"}},"id":70089,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4278:47:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"id":70090,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"4328:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70091,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4338:21:99","memberName":"MAX_LIQUIDITY_PER_BIN","nodeType":"MemberAccess","referencedDeclaration":70918,"src":"4328:31:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4278:81:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70097,"nodeType":"IfStatement","src":"4274:158:99","trueBody":{"id":70096,"nodeType":"Block","src":"4361:71:99","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":70093,"name":"BinHelper__MaxLiquidityPerBinExceeded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69859,"src":"4382:37:99","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":70094,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4382:39:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70095,"nodeType":"RevertStatement","src":"4375:46:99"}]}},{"expression":{"components":[{"id":70098,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69937,"src":"4450:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70099,"name":"amountsIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69930,"src":"4458:9:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":70100,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4449:19:99","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bytes32_$","typeString":"tuple(uint256,bytes32)"}},"functionReturnParameters":69940,"id":70101,"nodeType":"Return","src":"4442:26:99"}]},"documentation":{"id":69926,"nodeType":"StructuredDocumentation","src":"2153:634:99","text":" @dev Returns the share and the effective amounts in when adding liquidity\n @param binReserves The reserves of the bin\n @param amountsIn The amounts of tokens to add\n @param price The price of the bin\n @param totalSupply The total supply of the liquidity book\n @return shares The share of the liquidity book that the user will receive\n @return effectiveAmountsIn The encoded effective amounts of tokens that the user will add.\n This is the amount of tokens that the user will actually add to the liquidity book,\n and will always be less than or equal to the amountsIn."},"implemented":true,"kind":"function","modifiers":[],"name":"getSharesAndEffectiveAmountsIn","nameLocation":"2801:30:99","parameters":{"id":69935,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69928,"mutability":"mutable","name":"binReserves","nameLocation":"2840:11:99","nodeType":"VariableDeclaration","scope":70103,"src":"2832:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69927,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2832:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":69930,"mutability":"mutable","name":"amountsIn","nameLocation":"2861:9:99","nodeType":"VariableDeclaration","scope":70103,"src":"2853:17:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69929,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2853:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":69932,"mutability":"mutable","name":"price","nameLocation":"2880:5:99","nodeType":"VariableDeclaration","scope":70103,"src":"2872:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69931,"name":"uint256","nodeType":"ElementaryTypeName","src":"2872:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":69934,"mutability":"mutable","name":"totalSupply","nameLocation":"2895:11:99","nodeType":"VariableDeclaration","scope":70103,"src":"2887:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69933,"name":"uint256","nodeType":"ElementaryTypeName","src":"2887:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2831:76:99"},"returnParameters":{"id":69940,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69937,"mutability":"mutable","name":"shares","nameLocation":"2963:6:99","nodeType":"VariableDeclaration","scope":70103,"src":"2955:14:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69936,"name":"uint256","nodeType":"ElementaryTypeName","src":"2955:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":69939,"mutability":"mutable","name":"effectiveAmountsIn","nameLocation":"2979:18:99","nodeType":"VariableDeclaration","scope":70103,"src":"2971:26:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69938,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2971:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2954:44:99"},"scope":70765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70128,"nodeType":"FunctionDefinition","src":"4730:196:99","nodes":[],"body":{"id":70127,"nodeType":"Block","src":"4826:100:99","nodes":[],"statements":[{"assignments":[70114,70116],"declarations":[{"constant":false,"id":70114,"mutability":"mutable","name":"x","nameLocation":"4845:1:99","nodeType":"VariableDeclaration","scope":70127,"src":"4837:9:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70113,"name":"uint256","nodeType":"ElementaryTypeName","src":"4837:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":70116,"mutability":"mutable","name":"y","nameLocation":"4856:1:99","nodeType":"VariableDeclaration","scope":70127,"src":"4848:9:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70115,"name":"uint256","nodeType":"ElementaryTypeName","src":"4848:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70120,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70117,"name":"amounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70106,"src":"4861:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4869:6:99","memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":74736,"src":"4861:14:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128,uint128)"}},"id":70119,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4861:16:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint128_$_t_uint128_$","typeString":"tuple(uint128,uint128)"}},"nodeType":"VariableDeclarationStatement","src":"4836:41:99"},{"expression":{"arguments":[{"id":70122,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70114,"src":"4907:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70123,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70116,"src":"4910:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70124,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70108,"src":"4913:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70121,"name":"getLiquidity","nodeType":"Identifier","overloadedDeclarations":[70128,70186],"referencedDeclaration":70186,"src":"4894:12:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70125,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4894:25:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":70112,"id":70126,"nodeType":"Return","src":"4887:32:99"}]},"documentation":{"id":70104,"nodeType":"StructuredDocumentation","src":"4481:244:99","text":" @dev Returns the amount of liquidity following the constant sum formula `L = price * x + y`\n @param amounts The amounts of tokens\n @param price The price of the bin\n @return liquidity The amount of liquidity"},"implemented":true,"kind":"function","modifiers":[],"name":"getLiquidity","nameLocation":"4739:12:99","parameters":{"id":70109,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70106,"mutability":"mutable","name":"amounts","nameLocation":"4760:7:99","nodeType":"VariableDeclaration","scope":70128,"src":"4752:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70105,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4752:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70108,"mutability":"mutable","name":"price","nameLocation":"4777:5:99","nodeType":"VariableDeclaration","scope":70128,"src":"4769:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70107,"name":"uint256","nodeType":"ElementaryTypeName","src":"4769:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4751:32:99"},"returnParameters":{"id":70112,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70111,"mutability":"mutable","name":"liquidity","nameLocation":"4815:9:99","nodeType":"VariableDeclaration","scope":70128,"src":"4807:17:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70110,"name":"uint256","nodeType":"ElementaryTypeName","src":"4807:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4806:19:99"},"scope":70765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70186,"nodeType":"FunctionDefinition","src":"5221:548:99","nodes":[],"body":{"id":70185,"nodeType":"Block","src":"5322:447:99","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70142,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70140,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70131,"src":"5336:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":70141,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5340:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5336:5:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70160,"nodeType":"IfStatement","src":"5332:182:99","trueBody":{"id":70159,"nodeType":"Block","src":"5343:171:99","statements":[{"id":70158,"nodeType":"UncheckedBlock","src":"5357:147:99","statements":[{"expression":{"id":70147,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70143,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70138,"src":"5385:9:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70146,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70144,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70135,"src":"5397:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":70145,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70131,"src":"5405:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5397:9:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5385:21:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70148,"nodeType":"ExpressionStatement","src":"5385:21:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70153,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70151,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70149,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70138,"src":"5428:9:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":70150,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70131,"src":"5440:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5428:13:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":70152,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70135,"src":"5445:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5428:22:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70157,"nodeType":"IfStatement","src":"5424:65:99","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":70154,"name":"BinHelper__LiquidityOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69857,"src":"5459:28:99","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":70155,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5459:30:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70156,"nodeType":"RevertStatement","src":"5452:37:99"}}]}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70161,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70133,"src":"5527:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":70162,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5531:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5527:5:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70182,"nodeType":"IfStatement","src":"5523:213:99","trueBody":{"id":70181,"nodeType":"Block","src":"5534:202:99","statements":[{"id":70180,"nodeType":"UncheckedBlock","src":"5548:178:99","statements":[{"expression":{"id":70167,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70164,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70133,"src":"5576:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"<<=","rightHandSide":{"expression":{"id":70165,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"5582:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70166,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5592:12:99","memberName":"SCALE_OFFSET","nodeType":"MemberAccess","referencedDeclaration":70893,"src":"5582:22:99","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"5576:28:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70168,"nodeType":"ExpressionStatement","src":"5576:28:99"},{"expression":{"id":70171,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70169,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70138,"src":"5622:9:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":70170,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70133,"src":"5635:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5622:14:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70172,"nodeType":"ExpressionStatement","src":"5622:14:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70175,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70173,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70138,"src":"5659:9:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":70174,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70133,"src":"5671:1:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5659:13:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70179,"nodeType":"IfStatement","src":"5655:56:99","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":70176,"name":"BinHelper__LiquidityOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69857,"src":"5681:28:99","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":70177,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5681:30:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70178,"nodeType":"RevertStatement","src":"5674:37:99"}}]}]}},{"expression":{"id":70183,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70138,"src":"5753:9:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":70139,"id":70184,"nodeType":"Return","src":"5746:16:99"}]},"documentation":{"id":70129,"nodeType":"StructuredDocumentation","src":"4932:284:99","text":" @dev Returns the amount of liquidity following the constant sum formula `L = price * x + y`\n @param x The amount of the token X\n @param y The amount of the token Y\n @param price The price of the bin\n @return liquidity The amount of liquidity"},"implemented":true,"kind":"function","modifiers":[],"name":"getLiquidity","nameLocation":"5230:12:99","parameters":{"id":70136,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70131,"mutability":"mutable","name":"x","nameLocation":"5251:1:99","nodeType":"VariableDeclaration","scope":70186,"src":"5243:9:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70130,"name":"uint256","nodeType":"ElementaryTypeName","src":"5243:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":70133,"mutability":"mutable","name":"y","nameLocation":"5262:1:99","nodeType":"VariableDeclaration","scope":70186,"src":"5254:9:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70132,"name":"uint256","nodeType":"ElementaryTypeName","src":"5254:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":70135,"mutability":"mutable","name":"price","nameLocation":"5273:5:99","nodeType":"VariableDeclaration","scope":70186,"src":"5265:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70134,"name":"uint256","nodeType":"ElementaryTypeName","src":"5265:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5242:37:99"},"returnParameters":{"id":70139,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70138,"mutability":"mutable","name":"liquidity","nameLocation":"5311:9:99","nodeType":"VariableDeclaration","scope":70186,"src":"5303:17:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70137,"name":"uint256","nodeType":"ElementaryTypeName","src":"5303:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5302:19:99"},"scope":70765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70228,"nodeType":"FunctionDefinition","src":"6012:268:99","nodes":[],"body":{"id":70227,"nodeType":"Block","src":"6094:186:99","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":70220,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":70205,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint24","typeString":"uint24"},"id":70198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70196,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70193,"src":"6108:2:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":70197,"name":"activeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70191,"src":"6113:8:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"src":"6108:13:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":70204,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":70201,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70199,"name":"amounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70189,"src":"6126:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"313238","id":70200,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6137:3:99","typeDescriptions":{"typeIdentifier":"t_rational_128_by_1","typeString":"int_const 128"},"value":"128"},"src":"6126:14:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":70202,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"6125:16:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":70203,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6144:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6125:20:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6108:37:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":70219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint24","typeString":"uint24"},"id":70208,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70206,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70193,"src":"6149:2:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":70207,"name":"activeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70191,"src":"6154:8:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"src":"6149:13:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70218,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":70211,"name":"amounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70189,"src":"6174:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":70210,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6166:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70209,"name":"uint256","nodeType":"ElementaryTypeName","src":"6166:7:99","typeDescriptions":{}}},"id":70212,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6166:16:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"arguments":[{"id":70215,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6190:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":70214,"name":"uint128","nodeType":"ElementaryTypeName","src":"6190:7:99","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"}],"id":70213,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"6185:4:99","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":70216,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6185:13:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint128","typeString":"type(uint128)"}},"id":70217,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"6199:3:99","memberName":"max","nodeType":"MemberAccess","src":"6185:17:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"6166:36:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6149:53:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6108:94:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70226,"nodeType":"IfStatement","src":"6104:170:99","trueBody":{"id":70225,"nodeType":"Block","src":"6204:70:99","statements":[{"errorCall":{"arguments":[{"id":70222,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70193,"src":"6260:2:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint24","typeString":"uint24"}],"id":70221,"name":"BinHelper__CompositionFactorFlawed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69855,"src":"6225:34:99","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint24_$returns$__$","typeString":"function (uint24) pure"}},"id":70223,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6225:38:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70224,"nodeType":"RevertStatement","src":"6218:45:99"}]}}]},"documentation":{"id":70187,"nodeType":"StructuredDocumentation","src":"5775:232:99","text":" @dev Verify that the amounts are correct and that the composition factor is not flawed\n @param amounts The amounts of tokens\n @param activeId The id of the active bin\n @param id The id of the bin"},"implemented":true,"kind":"function","modifiers":[],"name":"verifyAmounts","nameLocation":"6021:13:99","parameters":{"id":70194,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70189,"mutability":"mutable","name":"amounts","nameLocation":"6043:7:99","nodeType":"VariableDeclaration","scope":70228,"src":"6035:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70188,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6035:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70191,"mutability":"mutable","name":"activeId","nameLocation":"6059:8:99","nodeType":"VariableDeclaration","scope":70228,"src":"6052:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":70190,"name":"uint24","nodeType":"ElementaryTypeName","src":"6052:6:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"},{"constant":false,"id":70193,"mutability":"mutable","name":"id","nameLocation":"6076:2:99","nodeType":"VariableDeclaration","scope":70228,"src":"6069:9:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":70192,"name":"uint24","nodeType":"ElementaryTypeName","src":"6069:6:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"6034:45:99"},"returnParameters":{"id":70195,"nodeType":"ParameterList","parameters":[],"src":"6094:0:99"},"scope":70765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70326,"nodeType":"FunctionDefinition","src":"6884:894:99","nodes":[],"body":{"id":70325,"nodeType":"Block","src":"7116:662:99","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70246,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70241,"src":"7130:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":70247,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7140:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7130:11:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70251,"nodeType":"IfStatement","src":"7126:25:99","trueBody":{"expression":{"hexValue":"30","id":70249,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7150:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":70245,"id":70250,"nodeType":"Return","src":"7143:8:99"}},{"assignments":[70253,70255],"declarations":[{"constant":false,"id":70253,"mutability":"mutable","name":"amountX","nameLocation":"7171:7:99","nodeType":"VariableDeclaration","scope":70325,"src":"7163:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70252,"name":"uint128","nodeType":"ElementaryTypeName","src":"7163:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70255,"mutability":"mutable","name":"amountY","nameLocation":"7188:7:99","nodeType":"VariableDeclaration","scope":70325,"src":"7180:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70254,"name":"uint128","nodeType":"ElementaryTypeName","src":"7180:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70259,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70256,"name":"amountsIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70237,"src":"7199:9:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70257,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7209:6:99","memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":74736,"src":"7199:16:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128,uint128)"}},"id":70258,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7199:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint128_$_t_uint128_$","typeString":"tuple(uint128,uint128)"}},"nodeType":"VariableDeclarationStatement","src":"7162:55:99"},{"assignments":[70261,70263],"declarations":[{"constant":false,"id":70261,"mutability":"mutable","name":"receivedAmountX","nameLocation":"7236:15:99","nodeType":"VariableDeclaration","scope":70325,"src":"7228:23:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70260,"name":"uint128","nodeType":"ElementaryTypeName","src":"7228:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70263,"mutability":"mutable","name":"receivedAmountY","nameLocation":"7261:15:99","nodeType":"VariableDeclaration","scope":70325,"src":"7253:23:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70262,"name":"uint128","nodeType":"ElementaryTypeName","src":"7253:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70276,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"arguments":[{"id":70267,"name":"amountsIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70237,"src":"7326:9:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":70265,"name":"binReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70231,"src":"7310:11:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7322:3:99","memberName":"add","nodeType":"MemberAccess","referencedDeclaration":74812,"src":"7310:15:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$returns$_t_bytes32_$attached_to$_t_bytes32_$","typeString":"function (bytes32,bytes32) pure returns (bytes32)"}},"id":70268,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7310:26:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":70269,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70241,"src":"7338:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70272,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70270,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70239,"src":"7346:11:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":70271,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70241,"src":"7360:6:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7346:20:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70264,"name":"getAmountOutOfBin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69925,"src":"7292:17:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (bytes32,uint256,uint256) pure returns (bytes32)"}},"id":70273,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7292:75:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7368:6:99","memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":74736,"src":"7292:82:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128,uint128)"}},"id":70275,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7292:84:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint128_$_t_uint128_$","typeString":"tuple(uint128,uint128)"}},"nodeType":"VariableDeclarationStatement","src":"7227:149:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70277,"name":"receivedAmountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70261,"src":"7391:15:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":70278,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70253,"src":"7409:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"7391:25:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70300,"name":"receivedAmountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70263,"src":"7587:15:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":70301,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70255,"src":"7605:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"7587:25:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70323,"nodeType":"IfStatement","src":"7583:189:99","trueBody":{"id":70322,"nodeType":"Block","src":"7614:158:99","statements":[{"assignments":[70304],"declarations":[{"constant":false,"id":70304,"mutability":"mutable","name":"feeX","nameLocation":"7636:4:99","nodeType":"VariableDeclaration","scope":70322,"src":"7628:12:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70303,"name":"uint128","nodeType":"ElementaryTypeName","src":"7628:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70315,"initialValue":{"arguments":[{"arguments":[{"id":70312,"name":"binStep","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70235,"src":"7712:7:99","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"expression":{"id":70310,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70233,"src":"7689:10:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7700:11:99","memberName":"getTotalFee","nodeType":"MemberAccess","referencedDeclaration":73118,"src":"7689:22:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint16_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32,uint16) pure returns (uint128)"}},"id":70313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7689:31:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70307,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70305,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70253,"src":"7644:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70306,"name":"receivedAmountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70261,"src":"7654:15:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"7644:25:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":70308,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7643:27:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70309,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7671:17:99","memberName":"getCompositionFee","nodeType":"MemberAccess","referencedDeclaration":71074,"src":"7643:45:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_uint128_$returns$_t_uint128_$attached_to$_t_uint128_$","typeString":"function (uint128,uint128) pure returns (uint128)"}},"id":70314,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7643:78:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"7628:93:99"},{"expression":{"id":70320,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70316,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70244,"src":"7736:4:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70317,"name":"feeX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70304,"src":"7743:4:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70318,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7748:11:99","memberName":"encodeFirst","nodeType":"MemberAccess","referencedDeclaration":74694,"src":"7743:16:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70319,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7743:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"7736:25:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70321,"nodeType":"ExpressionStatement","src":"7736:25:99"}]}},"id":70324,"nodeType":"IfStatement","src":"7387:385:99","trueBody":{"id":70299,"nodeType":"Block","src":"7418:159:99","statements":[{"assignments":[70281],"declarations":[{"constant":false,"id":70281,"mutability":"mutable","name":"feeY","nameLocation":"7440:4:99","nodeType":"VariableDeclaration","scope":70299,"src":"7432:12:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70280,"name":"uint128","nodeType":"ElementaryTypeName","src":"7432:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70292,"initialValue":{"arguments":[{"arguments":[{"id":70289,"name":"binStep","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70235,"src":"7516:7:99","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"expression":{"id":70287,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70233,"src":"7493:10:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70288,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7504:11:99","memberName":"getTotalFee","nodeType":"MemberAccess","referencedDeclaration":73118,"src":"7493:22:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint16_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32,uint16) pure returns (uint128)"}},"id":70290,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7493:31:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70282,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70255,"src":"7448:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70283,"name":"receivedAmountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70263,"src":"7458:15:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"7448:25:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":70285,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7447:27:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70286,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7475:17:99","memberName":"getCompositionFee","nodeType":"MemberAccess","referencedDeclaration":71074,"src":"7447:45:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_uint128_$returns$_t_uint128_$attached_to$_t_uint128_$","typeString":"function (uint128,uint128) pure returns (uint128)"}},"id":70291,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7447:78:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"7432:93:99"},{"expression":{"id":70297,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70293,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70244,"src":"7540:4:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70294,"name":"feeY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70281,"src":"7547:4:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7552:12:99","memberName":"encodeSecond","nodeType":"MemberAccess","referencedDeclaration":74704,"src":"7547:17:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70296,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7547:19:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"7540:26:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70298,"nodeType":"ExpressionStatement","src":"7540:26:99"}]}}]},"documentation":{"id":70229,"nodeType":"StructuredDocumentation","src":"6286:593:99","text":" @dev Returns the composition fees when adding liquidity to the active bin with a different\n composition factor than the bin's one, as it does an implicit swap\n @param binReserves The reserves of the bin\n @param parameters The parameters of the liquidity book\n @param binStep The step of the bin\n @param amountsIn The amounts of tokens to add\n @param totalSupply The total supply of the liquidity book\n @param shares The share of the liquidity book that the user will receive\n @return fees The encoded fees that will be charged"},"implemented":true,"kind":"function","modifiers":[],"name":"getCompositionFees","nameLocation":"6893:18:99","parameters":{"id":70242,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70231,"mutability":"mutable","name":"binReserves","nameLocation":"6929:11:99","nodeType":"VariableDeclaration","scope":70326,"src":"6921:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70230,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6921:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70233,"mutability":"mutable","name":"parameters","nameLocation":"6958:10:99","nodeType":"VariableDeclaration","scope":70326,"src":"6950:18:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70232,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6950:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70235,"mutability":"mutable","name":"binStep","nameLocation":"6985:7:99","nodeType":"VariableDeclaration","scope":70326,"src":"6978:14:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":70234,"name":"uint16","nodeType":"ElementaryTypeName","src":"6978:6:99","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":70237,"mutability":"mutable","name":"amountsIn","nameLocation":"7010:9:99","nodeType":"VariableDeclaration","scope":70326,"src":"7002:17:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70236,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7002:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70239,"mutability":"mutable","name":"totalSupply","nameLocation":"7037:11:99","nodeType":"VariableDeclaration","scope":70326,"src":"7029:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70238,"name":"uint256","nodeType":"ElementaryTypeName","src":"7029:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":70241,"mutability":"mutable","name":"shares","nameLocation":"7066:6:99","nodeType":"VariableDeclaration","scope":70326,"src":"7058:14:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70240,"name":"uint256","nodeType":"ElementaryTypeName","src":"7058:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6911:167:99"},"returnParameters":{"id":70245,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70244,"mutability":"mutable","name":"fees","nameLocation":"7110:4:99","nodeType":"VariableDeclaration","scope":70326,"src":"7102:12:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70243,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7102:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"7101:14:99"},"scope":70765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70350,"nodeType":"FunctionDefinition","src":"8075:162:99","nodes":[],"body":{"id":70349,"nodeType":"Block","src":"8152:85:99","nodes":[],"statements":[{"expression":{"condition":{"id":70336,"name":"isX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70331,"src":"8169:3:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70342,"name":"binReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70329,"src":"8204:11:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70343,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8216:7:99","memberName":"decodeY","nodeType":"MemberAccess","referencedDeclaration":74756,"src":"8204:19:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128)"}},"id":70344,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8204:21:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":70345,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8229:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8204:26:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70347,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8169:61:99","trueExpression":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70341,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70337,"name":"binReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70329,"src":"8175:11:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8187:7:99","memberName":"decodeX","nodeType":"MemberAccess","referencedDeclaration":74746,"src":"8175:19:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128)"}},"id":70339,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8175:21:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":70340,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8200:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8175:26:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":70335,"id":70348,"nodeType":"Return","src":"8162:68:99"}]},"documentation":{"id":70327,"nodeType":"StructuredDocumentation","src":"7784:286:99","text":" @dev Returns whether the bin is empty (true) or not (false)\n @param binReserves The reserves of the bin\n @param isX Whether the reserve to check is the X reserve (true) or the Y reserve (false)\n @return Whether the bin is empty (true) or not (false)"},"implemented":true,"kind":"function","modifiers":[],"name":"isEmpty","nameLocation":"8084:7:99","parameters":{"id":70332,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70329,"mutability":"mutable","name":"binReserves","nameLocation":"8100:11:99","nodeType":"VariableDeclaration","scope":70350,"src":"8092:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70328,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8092:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70331,"mutability":"mutable","name":"isX","nameLocation":"8118:3:99","nodeType":"VariableDeclaration","scope":70350,"src":"8113:8:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70330,"name":"bool","nodeType":"ElementaryTypeName","src":"8113:4:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"8091:31:99"},"returnParameters":{"id":70335,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70334,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70350,"src":"8146:4:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70333,"name":"bool","nodeType":"ElementaryTypeName","src":"8146:4:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"8145:6:99"},"scope":70765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70559,"nodeType":"FunctionDefinition","src":"9012:2179:99","nodes":[],"body":{"id":70558,"nodeType":"Block","src":"9350:1841:99","nodes":[],"statements":[{"assignments":[70373],"declarations":[{"constant":false,"id":70373,"mutability":"mutable","name":"price","nameLocation":"9368:5:99","nodeType":"VariableDeclaration","scope":70558,"src":"9360:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70372,"name":"uint256","nodeType":"ElementaryTypeName","src":"9360:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70378,"initialValue":{"arguments":[{"id":70376,"name":"binStep","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70357,"src":"9400:7:99","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"expression":{"id":70374,"name":"activeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70361,"src":"9376:8:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"id":70375,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9385:14:99","memberName":"getPriceFromId","nodeType":"MemberAccess","referencedDeclaration":73639,"src":"9376:23:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint24_$_t_uint16_$returns$_t_uint256_$attached_to$_t_uint24_$","typeString":"function (uint24,uint16) pure returns (uint256)"}},"id":70377,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9376:32:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9360:48:99"},{"id":70539,"nodeType":"Block","src":"9419:1531:99","statements":[{"assignments":[70380],"declarations":[{"constant":false,"id":70380,"mutability":"mutable","name":"binReserveOut","nameLocation":"9441:13:99","nodeType":"VariableDeclaration","scope":70539,"src":"9433:21:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70379,"name":"uint128","nodeType":"ElementaryTypeName","src":"9433:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70386,"initialValue":{"arguments":[{"id":70384,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"9476:9:99","subExpression":{"id":70383,"name":"swapForY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70359,"src":"9477:8:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"expression":{"id":70381,"name":"binReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70353,"src":"9457:11:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70382,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9469:6:99","memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":74776,"src":"9457:18:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bool_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32,bool) pure returns (uint128)"}},"id":70385,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9457:29:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"9433:53:99"},{"assignments":[70388],"declarations":[{"constant":false,"id":70388,"mutability":"mutable","name":"maxAmountIn","nameLocation":"9509:11:99","nodeType":"VariableDeclaration","scope":70539,"src":"9501:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70387,"name":"uint128","nodeType":"ElementaryTypeName","src":"9501:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70413,"initialValue":{"condition":{"id":70389,"name":"swapForY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70359,"src":"9523:8:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":70406,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70373,"src":"9687:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":70407,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"9694:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70408,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9704:12:99","memberName":"SCALE_OFFSET","nodeType":"MemberAccess","referencedDeclaration":70893,"src":"9694:22:99","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint8","typeString":"uint8"}],"expression":{"arguments":[{"id":70403,"name":"binReserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70380,"src":"9656:13:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":70402,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9648:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70401,"name":"uint256","nodeType":"ElementaryTypeName","src":"9648:7:99","typeDescriptions":{}}},"id":70404,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9648:22:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70405,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9671:15:99","memberName":"mulShiftRoundUp","nodeType":"MemberAccess","referencedDeclaration":77498,"src":"9648:38:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint8_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint8) pure returns (uint256)"}},"id":70409,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9648:69:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9718:7:99","memberName":"safe128","nodeType":"MemberAccess","referencedDeclaration":75421,"src":"9648:77:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":70411,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9648:79:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70412,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"9523:204:99","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":70395,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"9589:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70396,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9599:12:99","memberName":"SCALE_OFFSET","nodeType":"MemberAccess","referencedDeclaration":70893,"src":"9589:22:99","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},{"id":70397,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70373,"src":"9613:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":70392,"name":"binReserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70380,"src":"9558:13:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":70391,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9550:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70390,"name":"uint256","nodeType":"ElementaryTypeName","src":"9550:7:99","typeDescriptions":{}}},"id":70393,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9550:22:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70394,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9573:15:99","memberName":"shiftDivRoundUp","nodeType":"MemberAccess","referencedDeclaration":77578,"src":"9550:38:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint8_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint8,uint256) pure returns (uint256)"}},"id":70398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9550:69:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9620:7:99","memberName":"safe128","nodeType":"MemberAccess","referencedDeclaration":75421,"src":"9550:77:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":70400,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9550:79:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"9501:226:99"},{"assignments":[70415],"declarations":[{"constant":false,"id":70415,"mutability":"mutable","name":"totalFee","nameLocation":"9750:8:99","nodeType":"VariableDeclaration","scope":70539,"src":"9742:16:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70414,"name":"uint128","nodeType":"ElementaryTypeName","src":"9742:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70420,"initialValue":{"arguments":[{"id":70418,"name":"binStep","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70357,"src":"9784:7:99","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"expression":{"id":70416,"name":"parameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70355,"src":"9761:10:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70417,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9772:11:99","memberName":"getTotalFee","nodeType":"MemberAccess","referencedDeclaration":73118,"src":"9761:22:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint16_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32,uint16) pure returns (uint128)"}},"id":70419,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9761:31:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"9742:50:99"},{"assignments":[70422],"declarations":[{"constant":false,"id":70422,"mutability":"mutable","name":"maxFee","nameLocation":"9814:6:99","nodeType":"VariableDeclaration","scope":70539,"src":"9806:14:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70421,"name":"uint128","nodeType":"ElementaryTypeName","src":"9806:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70427,"initialValue":{"arguments":[{"id":70425,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70415,"src":"9848:8:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70423,"name":"maxAmountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70388,"src":"9823:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70424,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9835:12:99","memberName":"getFeeAmount","nodeType":"MemberAccess","referencedDeclaration":71033,"src":"9823:24:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_uint128_$returns$_t_uint128_$attached_to$_t_uint128_$","typeString":"function (uint128,uint128) pure returns (uint128)"}},"id":70426,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9823:34:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"9806:51:99"},{"expression":{"id":70430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70428,"name":"maxAmountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70388,"src":"9872:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":70429,"name":"maxFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70422,"src":"9887:6:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"9872:21:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70431,"nodeType":"ExpressionStatement","src":"9872:21:99"},{"assignments":[70433],"declarations":[{"constant":false,"id":70433,"mutability":"mutable","name":"amountIn128","nameLocation":"9916:11:99","nodeType":"VariableDeclaration","scope":70539,"src":"9908:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70432,"name":"uint128","nodeType":"ElementaryTypeName","src":"9908:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70438,"initialValue":{"arguments":[{"id":70436,"name":"swapForY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70359,"src":"9951:8:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"expression":{"id":70434,"name":"amountsInLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70363,"src":"9930:13:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70435,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9944:6:99","memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":74776,"src":"9930:20:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bool_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32,bool) pure returns (uint128)"}},"id":70437,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9930:30:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"9908:52:99"},{"assignments":[70440],"declarations":[{"constant":false,"id":70440,"mutability":"mutable","name":"fee128","nameLocation":"9982:6:99","nodeType":"VariableDeclaration","scope":70539,"src":"9974:14:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70439,"name":"uint128","nodeType":"ElementaryTypeName","src":"9974:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70441,"nodeType":"VariableDeclarationStatement","src":"9974:14:99"},{"assignments":[70443],"declarations":[{"constant":false,"id":70443,"mutability":"mutable","name":"amountOut128","nameLocation":"10010:12:99","nodeType":"VariableDeclaration","scope":70539,"src":"10002:20:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70442,"name":"uint128","nodeType":"ElementaryTypeName","src":"10002:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70444,"nodeType":"VariableDeclarationStatement","src":"10002:20:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70445,"name":"amountIn128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70433,"src":"10041:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":70446,"name":"maxAmountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70388,"src":"10056:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10041:26:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":70509,"nodeType":"Block","src":"10213:459:99","statements":[{"expression":{"id":70466,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70461,"name":"fee128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70440,"src":"10231:6:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":70464,"name":"totalFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70415,"src":"10269:8:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70462,"name":"amountIn128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70433,"src":"10240:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70463,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10252:16:99","memberName":"getFeeAmountFrom","nodeType":"MemberAccess","referencedDeclaration":70994,"src":"10240:28:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_uint128_$returns$_t_uint128_$attached_to$_t_uint128_$","typeString":"function (uint128,uint128) pure returns (uint128)"}},"id":70465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10240:38:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10231:47:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70467,"nodeType":"ExpressionStatement","src":"10231:47:99"},{"assignments":[70469],"declarations":[{"constant":false,"id":70469,"mutability":"mutable","name":"amountIn","nameLocation":"10305:8:99","nodeType":"VariableDeclaration","scope":70509,"src":"10297:16:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70468,"name":"uint256","nodeType":"ElementaryTypeName","src":"10297:7:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70473,"initialValue":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70470,"name":"amountIn128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70433,"src":"10316:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70471,"name":"fee128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70440,"src":"10330:6:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10316:20:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"10297:39:99"},{"expression":{"id":70499,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70474,"name":"amountOut128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70443,"src":"10355:12:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"id":70475,"name":"swapForY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70359,"src":"10370:8:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":70492,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"10536:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70493,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"10546:12:99","memberName":"SCALE_OFFSET","nodeType":"MemberAccess","referencedDeclaration":70893,"src":"10536:22:99","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},{"id":70494,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70373,"src":"10560:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":70489,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70469,"src":"10508:8:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70488,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10500:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70487,"name":"uint256","nodeType":"ElementaryTypeName","src":"10500:7:99","typeDescriptions":{}}},"id":70490,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10500:17:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10518:17:99","memberName":"shiftDivRoundDown","nodeType":"MemberAccess","referencedDeclaration":77543,"src":"10500:35:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint8_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint8,uint256) pure returns (uint256)"}},"id":70495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10500:66:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70496,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10567:7:99","memberName":"safe128","nodeType":"MemberAccess","referencedDeclaration":75421,"src":"10500:74:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":70497,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10500:76:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70498,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"10370:206:99","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":70481,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70373,"src":"10437:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":70482,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"10444:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70483,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"10454:12:99","memberName":"SCALE_OFFSET","nodeType":"MemberAccess","referencedDeclaration":70893,"src":"10444:22:99","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint8","typeString":"uint8"}],"expression":{"arguments":[{"id":70478,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70469,"src":"10409:8:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70477,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10401:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70476,"name":"uint256","nodeType":"ElementaryTypeName","src":"10401:7:99","typeDescriptions":{}}},"id":70479,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10401:17:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70480,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10419:17:99","memberName":"mulShiftRoundDown","nodeType":"MemberAccess","referencedDeclaration":77463,"src":"10401:35:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint8_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint8) pure returns (uint256)"}},"id":70484,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10401:66:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70485,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10468:7:99","memberName":"safe128","nodeType":"MemberAccess","referencedDeclaration":75421,"src":"10401:74:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":70486,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10401:76:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10355:221:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70500,"nodeType":"ExpressionStatement","src":"10355:221:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70503,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70501,"name":"amountOut128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70443,"src":"10599:12:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":70502,"name":"binReserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70380,"src":"10614:13:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10599:28:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70508,"nodeType":"IfStatement","src":"10595:62:99","trueBody":{"expression":{"id":70506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70504,"name":"amountOut128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70443,"src":"10629:12:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":70505,"name":"binReserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70380,"src":"10644:13:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10629:28:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70507,"nodeType":"ExpressionStatement","src":"10629:28:99"}}]},"id":70510,"nodeType":"IfStatement","src":"10037:635:99","trueBody":{"id":70460,"nodeType":"Block","src":"10069:138:99","statements":[{"expression":{"id":70450,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70448,"name":"fee128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70440,"src":"10087:6:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":70449,"name":"maxFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70422,"src":"10096:6:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10087:15:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70451,"nodeType":"ExpressionStatement","src":"10087:15:99"},{"expression":{"id":70454,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70452,"name":"amountIn128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70433,"src":"10121:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":70453,"name":"maxAmountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70388,"src":"10135:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10121:25:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70455,"nodeType":"ExpressionStatement","src":"10121:25:99"},{"expression":{"id":70458,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70456,"name":"amountOut128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70443,"src":"10164:12:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":70457,"name":"binReserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70380,"src":"10179:13:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"10164:28:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70459,"nodeType":"ExpressionStatement","src":"10164:28:99"}]}},{"expression":{"id":70537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":70511,"name":"amountsInWithFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70366,"src":"10687:17:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":70512,"name":"amountsOutOfBin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70368,"src":"10706:15:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":70513,"name":"totalFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70370,"src":"10723:9:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":70514,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"10686:47:99","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes32_$_t_bytes32_$","typeString":"tuple(bytes32,bytes32,bytes32)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"id":70515,"name":"swapForY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70359,"src":"10736:8:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"components":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70526,"name":"amountIn128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70433,"src":"10861:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10873:12:99","memberName":"encodeSecond","nodeType":"MemberAccess","referencedDeclaration":74704,"src":"10861:24:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70528,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10861:26:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70529,"name":"amountOut128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70443,"src":"10889:12:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70530,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10902:11:99","memberName":"encodeFirst","nodeType":"MemberAccess","referencedDeclaration":74694,"src":"10889:24:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70531,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10889:26:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70532,"name":"fee128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70440,"src":"10917:6:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70533,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10924:12:99","memberName":"encodeSecond","nodeType":"MemberAccess","referencedDeclaration":74704,"src":"10917:19:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10917:21:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":70535,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"10860:79:99","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes32_$_t_bytes32_$","typeString":"tuple(bytes32,bytes32,bytes32)"}},"id":70536,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"10736:203:99","trueExpression":{"components":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70516,"name":"amountIn128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70433,"src":"10764:11:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70517,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10776:11:99","memberName":"encodeFirst","nodeType":"MemberAccess","referencedDeclaration":74694,"src":"10764:23:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70518,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10764:25:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70519,"name":"amountOut128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70443,"src":"10791:12:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70520,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10804:12:99","memberName":"encodeSecond","nodeType":"MemberAccess","referencedDeclaration":74704,"src":"10791:25:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70521,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10791:27:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70522,"name":"fee128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70440,"src":"10820:6:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10827:11:99","memberName":"encodeFirst","nodeType":"MemberAccess","referencedDeclaration":74694,"src":"10820:18:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10820:20:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":70525,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"10763:78:99","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes32_$_t_bytes32_$","typeString":"tuple(bytes32,bytes32,bytes32)"}},"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes32_$_t_bytes32_$","typeString":"tuple(bytes32,bytes32,bytes32)"}},"src":"10686:253:99","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70538,"nodeType":"ExpressionStatement","src":"10686:253:99"}]},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70552,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":70546,"name":"amountsOutOfBin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70368,"src":"11029:15:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"arguments":[{"id":70543,"name":"amountsInWithFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70366,"src":"11006:17:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":70541,"name":"binReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70353,"src":"10990:11:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11002:3:99","memberName":"add","nodeType":"MemberAccess","referencedDeclaration":74812,"src":"10990:15:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$returns$_t_bytes32_$attached_to$_t_bytes32_$","typeString":"function (bytes32,bytes32) pure returns (bytes32)"}},"id":70544,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10990:34:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11025:3:99","memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":74869,"src":"10990:38:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$returns$_t_bytes32_$attached_to$_t_bytes32_$","typeString":"function (bytes32,bytes32) pure returns (bytes32)"}},"id":70547,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10990:55:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":70548,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70373,"src":"11047:5:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70540,"name":"getLiquidity","nodeType":"Identifier","overloadedDeclarations":[70128,70186],"referencedDeclaration":70128,"src":"10977:12:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint256_$returns$_t_uint256_$","typeString":"function (bytes32,uint256) pure returns (uint256)"}},"id":70549,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10977:76:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"id":70550,"name":"Constants","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70925,"src":"11072:9:99","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Constants_$70925_$","typeString":"type(library Constants)"}},"id":70551,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"11082:21:99","memberName":"MAX_LIQUIDITY_PER_BIN","nodeType":"MemberAccess","referencedDeclaration":70918,"src":"11072:31:99","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10977:126:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70557,"nodeType":"IfStatement","src":"10960:225:99","trueBody":{"id":70556,"nodeType":"Block","src":"11114:71:99","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":70553,"name":"BinHelper__MaxLiquidityPerBinExceeded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69859,"src":"11135:37:99","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":70554,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11135:39:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70555,"nodeType":"RevertStatement","src":"11128:46:99"}]}}]},"documentation":{"id":70351,"nodeType":"StructuredDocumentation","src":"8243:764:99","text":" @dev Returns the amounts of tokens that will be added and removed from the bin during a swap\n along with the fees that will be charged\n @param binReserves The reserves of the bin\n @param parameters The parameters of the liquidity book\n @param binStep The step of the bin\n @param swapForY Whether the swap is for Y (true) or for X (false)\n @param activeId The id of the active bin\n @param amountsInLeft The amounts of tokens left to swap\n @return amountsInWithFees The encoded amounts of tokens that will be added to the bin, including fees\n @return amountsOutOfBin The encoded amounts of tokens that will be removed from the bin\n @return totalFees The encoded fees that will be charged"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmounts","nameLocation":"9021:10:99","parameters":{"id":70364,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70353,"mutability":"mutable","name":"binReserves","nameLocation":"9049:11:99","nodeType":"VariableDeclaration","scope":70559,"src":"9041:19:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70352,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9041:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70355,"mutability":"mutable","name":"parameters","nameLocation":"9078:10:99","nodeType":"VariableDeclaration","scope":70559,"src":"9070:18:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70354,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9070:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70357,"mutability":"mutable","name":"binStep","nameLocation":"9105:7:99","nodeType":"VariableDeclaration","scope":70559,"src":"9098:14:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":70356,"name":"uint16","nodeType":"ElementaryTypeName","src":"9098:6:99","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":70359,"mutability":"mutable","name":"swapForY","nameLocation":"9127:8:99","nodeType":"VariableDeclaration","scope":70559,"src":"9122:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70358,"name":"bool","nodeType":"ElementaryTypeName","src":"9122:4:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":70361,"mutability":"mutable","name":"activeId","nameLocation":"9210:8:99","nodeType":"VariableDeclaration","scope":70559,"src":"9203:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":70360,"name":"uint24","nodeType":"ElementaryTypeName","src":"9203:6:99","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"},{"constant":false,"id":70363,"mutability":"mutable","name":"amountsInLeft","nameLocation":"9236:13:99","nodeType":"VariableDeclaration","scope":70559,"src":"9228:21:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70362,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9228:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"9031:224:99"},"returnParameters":{"id":70371,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70366,"mutability":"mutable","name":"amountsInWithFees","nameLocation":"9287:17:99","nodeType":"VariableDeclaration","scope":70559,"src":"9279:25:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70365,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9279:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70368,"mutability":"mutable","name":"amountsOutOfBin","nameLocation":"9314:15:99","nodeType":"VariableDeclaration","scope":70559,"src":"9306:23:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70367,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9306:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70370,"mutability":"mutable","name":"totalFees","nameLocation":"9339:9:99","nodeType":"VariableDeclaration","scope":70559,"src":"9331:17:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70369,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9331:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"9278:71:99"},"scope":70765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70588,"nodeType":"FunctionDefinition","src":"11503:192:99","nodes":[],"body":{"id":70587,"nodeType":"Block","src":"11609:86:99","nodes":[],"statements":[{"expression":{"id":70585,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70573,"name":"amounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70571,"src":"11619:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":70583,"name":"reserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70562,"src":"11679:8:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"arguments":[{"arguments":[{"id":70579,"name":"tokenY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70568,"src":"11666:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}],"id":70578,"name":"_balanceOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70764,"src":"11655:10:99","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IERC20_$42258_$returns$_t_uint128_$","typeString":"function (contract IERC20) view returns (uint128)"}},"id":70580,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11655:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"arguments":[{"id":70575,"name":"tokenX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70565,"src":"11640:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}],"id":70574,"name":"_balanceOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70764,"src":"11629:10:99","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IERC20_$42258_$returns$_t_uint128_$","typeString":"function (contract IERC20) view returns (uint128)"}},"id":70576,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11629:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70577,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11648:6:99","memberName":"encode","nodeType":"MemberAccess","referencedDeclaration":74684,"src":"11629:25:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128,uint128) pure returns (bytes32)"}},"id":70581,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11629:45:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11675:3:99","memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":74869,"src":"11629:49:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$returns$_t_bytes32_$attached_to$_t_bytes32_$","typeString":"function (bytes32,bytes32) pure returns (bytes32)"}},"id":70584,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11629:59:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"11619:69:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70586,"nodeType":"ExpressionStatement","src":"11619:69:99"}]},"documentation":{"id":70560,"nodeType":"StructuredDocumentation","src":"11197:301:99","text":" @dev Returns the encoded amounts that were transferred to the contract\n @param reserves The reserves\n @param tokenX The token X\n @param tokenY The token Y\n @return amounts The amounts, encoded as follows:\n [0 - 128[: amountX\n [128 - 256[: amountY"},"implemented":true,"kind":"function","modifiers":[],"name":"received","nameLocation":"11512:8:99","parameters":{"id":70569,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70562,"mutability":"mutable","name":"reserves","nameLocation":"11529:8:99","nodeType":"VariableDeclaration","scope":70588,"src":"11521:16:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70561,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11521:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70565,"mutability":"mutable","name":"tokenX","nameLocation":"11546:6:99","nodeType":"VariableDeclaration","scope":70588,"src":"11539:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70564,"nodeType":"UserDefinedTypeName","pathNode":{"id":70563,"name":"IERC20","nameLocations":["11539:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"11539:6:99"},"referencedDeclaration":42258,"src":"11539:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"},{"constant":false,"id":70568,"mutability":"mutable","name":"tokenY","nameLocation":"11561:6:99","nodeType":"VariableDeclaration","scope":70588,"src":"11554:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70567,"nodeType":"UserDefinedTypeName","pathNode":{"id":70566,"name":"IERC20","nameLocations":["11554:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"11554:6:99"},"referencedDeclaration":42258,"src":"11554:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"}],"src":"11520:48:99"},"returnParameters":{"id":70572,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70571,"mutability":"mutable","name":"amounts","nameLocation":"11600:7:99","nodeType":"VariableDeclaration","scope":70588,"src":"11592:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70570,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11592:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"11591:17:99"},"scope":70765,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":70615,"nodeType":"FunctionDefinition","src":"11990:200:99","nodes":[],"body":{"id":70614,"nodeType":"Block","src":"12074:116:99","nodes":[],"statements":[{"assignments":[70600],"declarations":[{"constant":false,"id":70600,"mutability":"mutable","name":"reserveX","nameLocation":"12092:8:99","nodeType":"VariableDeclaration","scope":70614,"src":"12084:16:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70599,"name":"uint128","nodeType":"ElementaryTypeName","src":"12084:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70604,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70601,"name":"reserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70591,"src":"12103:8:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70602,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12112:7:99","memberName":"decodeX","nodeType":"MemberAccess","referencedDeclaration":74746,"src":"12103:16:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128)"}},"id":70603,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12103:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"12084:37:99"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70609,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":70606,"name":"tokenX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70594,"src":"12150:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}],"id":70605,"name":"_balanceOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70764,"src":"12139:10:99","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IERC20_$42258_$returns$_t_uint128_$","typeString":"function (contract IERC20) view returns (uint128)"}},"id":70607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12139:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70608,"name":"reserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70600,"src":"12160:8:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"12139:29:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":70610,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12138:31:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70611,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12170:11:99","memberName":"encodeFirst","nodeType":"MemberAccess","referencedDeclaration":74694,"src":"12138:43:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70612,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12138:45:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":70598,"id":70613,"nodeType":"Return","src":"12131:52:99"}]},"documentation":{"id":70589,"nodeType":"StructuredDocumentation","src":"11701:284:99","text":" @dev Returns the encoded amounts that were transferred to the contract, only for token X\n @param reserves The reserves\n @param tokenX The token X\n @return amounts The amounts, encoded as follows:\n [0 - 128[: amountX\n [128 - 256[: empty"},"implemented":true,"kind":"function","modifiers":[],"name":"receivedX","nameLocation":"11999:9:99","parameters":{"id":70595,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70591,"mutability":"mutable","name":"reserves","nameLocation":"12017:8:99","nodeType":"VariableDeclaration","scope":70615,"src":"12009:16:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70590,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12009:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70594,"mutability":"mutable","name":"tokenX","nameLocation":"12034:6:99","nodeType":"VariableDeclaration","scope":70615,"src":"12027:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70593,"nodeType":"UserDefinedTypeName","pathNode":{"id":70592,"name":"IERC20","nameLocations":["12027:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"12027:6:99"},"referencedDeclaration":42258,"src":"12027:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"}],"src":"12008:33:99"},"returnParameters":{"id":70598,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70597,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70615,"src":"12065:7:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70596,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12065:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"12064:9:99"},"scope":70765,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":70642,"nodeType":"FunctionDefinition","src":"12485:201:99","nodes":[],"body":{"id":70641,"nodeType":"Block","src":"12569:117:99","nodes":[],"statements":[{"assignments":[70627],"declarations":[{"constant":false,"id":70627,"mutability":"mutable","name":"reserveY","nameLocation":"12587:8:99","nodeType":"VariableDeclaration","scope":70641,"src":"12579:16:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70626,"name":"uint128","nodeType":"ElementaryTypeName","src":"12579:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70631,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70628,"name":"reserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70618,"src":"12598:8:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70629,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12607:7:99","memberName":"decodeY","nodeType":"MemberAccess","referencedDeclaration":74756,"src":"12598:16:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128)"}},"id":70630,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12598:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"12579:37:99"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70636,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":70633,"name":"tokenY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70621,"src":"12645:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}],"id":70632,"name":"_balanceOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70764,"src":"12634:10:99","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IERC20_$42258_$returns$_t_uint128_$","typeString":"function (contract IERC20) view returns (uint128)"}},"id":70634,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12634:18:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70635,"name":"reserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70627,"src":"12655:8:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"12634:29:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":70637,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12633:31:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":70638,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12665:12:99","memberName":"encodeSecond","nodeType":"MemberAccess","referencedDeclaration":74704,"src":"12633:44:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$returns$_t_bytes32_$attached_to$_t_uint128_$","typeString":"function (uint128) pure returns (bytes32)"}},"id":70639,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12633:46:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":70625,"id":70640,"nodeType":"Return","src":"12626:53:99"}]},"documentation":{"id":70616,"nodeType":"StructuredDocumentation","src":"12196:284:99","text":" @dev Returns the encoded amounts that were transferred to the contract, only for token Y\n @param reserves The reserves\n @param tokenY The token Y\n @return amounts The amounts, encoded as follows:\n [0 - 128[: empty\n [128 - 256[: amountY"},"implemented":true,"kind":"function","modifiers":[],"name":"receivedY","nameLocation":"12494:9:99","parameters":{"id":70622,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70618,"mutability":"mutable","name":"reserves","nameLocation":"12512:8:99","nodeType":"VariableDeclaration","scope":70642,"src":"12504:16:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70617,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12504:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70621,"mutability":"mutable","name":"tokenY","nameLocation":"12529:6:99","nodeType":"VariableDeclaration","scope":70642,"src":"12522:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70620,"nodeType":"UserDefinedTypeName","pathNode":{"id":70619,"name":"IERC20","nameLocations":["12522:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"12522:6:99"},"referencedDeclaration":42258,"src":"12522:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"}],"src":"12503:33:99"},"returnParameters":{"id":70625,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70624,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70642,"src":"12560:7:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70623,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12560:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"12559:9:99"},"scope":70765,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":70687,"nodeType":"FunctionDefinition","src":"12980:296:99","nodes":[],"body":{"id":70686,"nodeType":"Block","src":"13073:203:99","nodes":[],"statements":[{"assignments":[70657,70659],"declarations":[{"constant":false,"id":70657,"mutability":"mutable","name":"amountX","nameLocation":"13092:7:99","nodeType":"VariableDeclaration","scope":70686,"src":"13084:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70656,"name":"uint128","nodeType":"ElementaryTypeName","src":"13084:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70659,"mutability":"mutable","name":"amountY","nameLocation":"13109:7:99","nodeType":"VariableDeclaration","scope":70686,"src":"13101:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70658,"name":"uint128","nodeType":"ElementaryTypeName","src":"13101:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70663,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70660,"name":"amounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70645,"src":"13120:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70661,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13128:6:99","memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":74736,"src":"13120:14:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128,uint128)"}},"id":70662,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13120:16:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint128_$_t_uint128_$","typeString":"tuple(uint128,uint128)"}},"nodeType":"VariableDeclarationStatement","src":"13083:53:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70666,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70664,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70657,"src":"13151:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":70665,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13161:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13151:11:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70674,"nodeType":"IfStatement","src":"13147:56:99","trueBody":{"expression":{"arguments":[{"id":70670,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70653,"src":"13184:9:99","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":70671,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70657,"src":"13195:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70667,"name":"tokenX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70648,"src":"13164:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"id":70669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13171:12:99","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":74159,"src":"13164:19:99","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$42258_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$42258_$","typeString":"function (contract IERC20,address,uint256)"}},"id":70672,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13164:39:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70673,"nodeType":"ExpressionStatement","src":"13164:39:99"}},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70675,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70659,"src":"13217:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":70676,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13227:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13217:11:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70685,"nodeType":"IfStatement","src":"13213:56:99","trueBody":{"expression":{"arguments":[{"id":70681,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70653,"src":"13250:9:99","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":70682,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70659,"src":"13261:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70678,"name":"tokenY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70651,"src":"13230:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"id":70680,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13237:12:99","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":74159,"src":"13230:19:99","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$42258_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$42258_$","typeString":"function (contract IERC20,address,uint256)"}},"id":70683,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13230:39:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70684,"nodeType":"ExpressionStatement","src":"13230:39:99"}}]},"documentation":{"id":70643,"nodeType":"StructuredDocumentation","src":"12692:283:99","text":" @dev Transfers the encoded amounts to the recipient\n @param amounts The amounts, encoded as follows:\n [0 - 128[: amountX\n [128 - 256[: amountY\n @param tokenX The token X\n @param tokenY The token Y\n @param recipient The recipient"},"implemented":true,"kind":"function","modifiers":[],"name":"transfer","nameLocation":"12989:8:99","parameters":{"id":70654,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70645,"mutability":"mutable","name":"amounts","nameLocation":"13006:7:99","nodeType":"VariableDeclaration","scope":70687,"src":"12998:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70644,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12998:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70648,"mutability":"mutable","name":"tokenX","nameLocation":"13022:6:99","nodeType":"VariableDeclaration","scope":70687,"src":"13015:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70647,"nodeType":"UserDefinedTypeName","pathNode":{"id":70646,"name":"IERC20","nameLocations":["13015:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"13015:6:99"},"referencedDeclaration":42258,"src":"13015:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"},{"constant":false,"id":70651,"mutability":"mutable","name":"tokenY","nameLocation":"13037:6:99","nodeType":"VariableDeclaration","scope":70687,"src":"13030:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70650,"nodeType":"UserDefinedTypeName","pathNode":{"id":70649,"name":"IERC20","nameLocations":["13030:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"13030:6:99"},"referencedDeclaration":42258,"src":"13030:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"},{"constant":false,"id":70653,"mutability":"mutable","name":"recipient","nameLocation":"13053:9:99","nodeType":"VariableDeclaration","scope":70687,"src":"13045:17:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":70652,"name":"address","nodeType":"ElementaryTypeName","src":"13045:7:99","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"12997:66:99"},"returnParameters":{"id":70655,"nodeType":"ParameterList","parameters":[],"src":"13073:0:99"},"scope":70765,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":70716,"nodeType":"FunctionDefinition","src":"13553:198:99","nodes":[],"body":{"id":70715,"nodeType":"Block","src":"13632:119:99","nodes":[],"statements":[{"assignments":[70699],"declarations":[{"constant":false,"id":70699,"mutability":"mutable","name":"amountX","nameLocation":"13650:7:99","nodeType":"VariableDeclaration","scope":70715,"src":"13642:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70698,"name":"uint128","nodeType":"ElementaryTypeName","src":"13642:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70703,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70700,"name":"amounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70690,"src":"13660:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70701,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13668:7:99","memberName":"decodeX","nodeType":"MemberAccess","referencedDeclaration":74746,"src":"13660:15:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128)"}},"id":70702,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13660:17:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"13642:35:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70706,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70704,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70699,"src":"13692:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":70705,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13702:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13692:11:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70714,"nodeType":"IfStatement","src":"13688:56:99","trueBody":{"expression":{"arguments":[{"id":70710,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70695,"src":"13725:9:99","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":70711,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70699,"src":"13736:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70707,"name":"tokenX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70693,"src":"13705:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"id":70709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13712:12:99","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":74159,"src":"13705:19:99","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$42258_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$42258_$","typeString":"function (contract IERC20,address,uint256)"}},"id":70712,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13705:39:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70713,"nodeType":"ExpressionStatement","src":"13705:39:99"}}]},"documentation":{"id":70688,"nodeType":"StructuredDocumentation","src":"13282:266:99","text":" @dev Transfers the encoded amounts to the recipient, only for token X\n @param amounts The amounts, encoded as follows:\n [0 - 128[: amountX\n [128 - 256[: empty\n @param tokenX The token X\n @param recipient The recipient"},"implemented":true,"kind":"function","modifiers":[],"name":"transferX","nameLocation":"13562:9:99","parameters":{"id":70696,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70690,"mutability":"mutable","name":"amounts","nameLocation":"13580:7:99","nodeType":"VariableDeclaration","scope":70716,"src":"13572:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70689,"name":"bytes32","nodeType":"ElementaryTypeName","src":"13572:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70693,"mutability":"mutable","name":"tokenX","nameLocation":"13596:6:99","nodeType":"VariableDeclaration","scope":70716,"src":"13589:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70692,"nodeType":"UserDefinedTypeName","pathNode":{"id":70691,"name":"IERC20","nameLocations":["13589:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"13589:6:99"},"referencedDeclaration":42258,"src":"13589:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"},{"constant":false,"id":70695,"mutability":"mutable","name":"recipient","nameLocation":"13612:9:99","nodeType":"VariableDeclaration","scope":70716,"src":"13604:17:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":70694,"name":"address","nodeType":"ElementaryTypeName","src":"13604:7:99","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"13571:51:99"},"returnParameters":{"id":70697,"nodeType":"ParameterList","parameters":[],"src":"13632:0:99"},"scope":70765,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":70745,"nodeType":"FunctionDefinition","src":"14028:198:99","nodes":[],"body":{"id":70744,"nodeType":"Block","src":"14107:119:99","nodes":[],"statements":[{"assignments":[70728],"declarations":[{"constant":false,"id":70728,"mutability":"mutable","name":"amountY","nameLocation":"14125:7:99","nodeType":"VariableDeclaration","scope":70744,"src":"14117:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70727,"name":"uint128","nodeType":"ElementaryTypeName","src":"14117:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":70732,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":70729,"name":"amounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70719,"src":"14135:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":70730,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14143:7:99","memberName":"decodeY","nodeType":"MemberAccess","referencedDeclaration":74756,"src":"14135:15:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_uint128_$attached_to$_t_bytes32_$","typeString":"function (bytes32) pure returns (uint128)"}},"id":70731,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14135:17:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"14117:35:99"},{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":70735,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70733,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70728,"src":"14167:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":70734,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14177:1:99","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14167:11:99","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70743,"nodeType":"IfStatement","src":"14163:56:99","trueBody":{"expression":{"arguments":[{"id":70739,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70724,"src":"14200:9:99","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":70740,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70728,"src":"14211:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70736,"name":"tokenY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70722,"src":"14180:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"id":70738,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14187:12:99","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":74159,"src":"14180:19:99","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$42258_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$42258_$","typeString":"function (contract IERC20,address,uint256)"}},"id":70741,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14180:39:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70742,"nodeType":"ExpressionStatement","src":"14180:39:99"}}]},"documentation":{"id":70717,"nodeType":"StructuredDocumentation","src":"13757:266:99","text":" @dev Transfers the encoded amounts to the recipient, only for token Y\n @param amounts The amounts, encoded as follows:\n [0 - 128[: empty\n [128 - 256[: amountY\n @param tokenY The token Y\n @param recipient The recipient"},"implemented":true,"kind":"function","modifiers":[],"name":"transferY","nameLocation":"14037:9:99","parameters":{"id":70725,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70719,"mutability":"mutable","name":"amounts","nameLocation":"14055:7:99","nodeType":"VariableDeclaration","scope":70745,"src":"14047:15:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":70718,"name":"bytes32","nodeType":"ElementaryTypeName","src":"14047:7:99","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":70722,"mutability":"mutable","name":"tokenY","nameLocation":"14071:6:99","nodeType":"VariableDeclaration","scope":70745,"src":"14064:13:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70721,"nodeType":"UserDefinedTypeName","pathNode":{"id":70720,"name":"IERC20","nameLocations":["14064:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"14064:6:99"},"referencedDeclaration":42258,"src":"14064:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"},{"constant":false,"id":70724,"mutability":"mutable","name":"recipient","nameLocation":"14087:9:99","nodeType":"VariableDeclaration","scope":70745,"src":"14079:17:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":70723,"name":"address","nodeType":"ElementaryTypeName","src":"14079:7:99","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"14046:51:99"},"returnParameters":{"id":70726,"nodeType":"ParameterList","parameters":[],"src":"14107:0:99"},"scope":70765,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":70764,"nodeType":"FunctionDefinition","src":"14232:129:99","nodes":[],"body":{"id":70763,"nodeType":"Block","src":"14297:64:99","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"arguments":[{"id":70757,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"14338:4:99","typeDescriptions":{"typeIdentifier":"t_contract$_BinHelper_$70765","typeString":"library BinHelper"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_BinHelper_$70765","typeString":"library BinHelper"}],"id":70756,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14330:7:99","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":70755,"name":"address","nodeType":"ElementaryTypeName","src":"14330:7:99","typeDescriptions":{}}},"id":70758,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14330:13:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":70753,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70748,"src":"14314:5:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"id":70754,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14320:9:99","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":42215,"src":"14314:15:99","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":70759,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14314:30:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70760,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14345:7:99","memberName":"safe128","nodeType":"MemberAccess","referencedDeclaration":75421,"src":"14314:38:99","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":70761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14314:40:99","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"functionReturnParameters":70752,"id":70762,"nodeType":"Return","src":"14307:47:99"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_balanceOf","nameLocation":"14241:10:99","parameters":{"id":70749,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70748,"mutability":"mutable","name":"token","nameLocation":"14259:5:99","nodeType":"VariableDeclaration","scope":70764,"src":"14252:12:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"},"typeName":{"id":70747,"nodeType":"UserDefinedTypeName","pathNode":{"id":70746,"name":"IERC20","nameLocations":["14252:6:99"],"nodeType":"IdentifierPath","referencedDeclaration":42258,"src":"14252:6:99"},"referencedDeclaration":42258,"src":"14252:6:99","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$42258","typeString":"contract IERC20"}},"visibility":"internal"}],"src":"14251:14:99"},"returnParameters":{"id":70752,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70751,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70764,"src":"14288:7:99","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70750,"name":"uint128","nodeType":"ElementaryTypeName","src":"14288:7:99","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"14287:9:99"},"scope":70765,"stateMutability":"view","virtual":false,"visibility":"private"}],"abstract":false,"baseContracts":[],"canonicalName":"BinHelper","contractDependencies":[],"contractKind":"library","documentation":{"id":69826,"nodeType":"StructuredDocumentation","src":"481:153:99","text":" @title Liquidity Book Bin Helper Library\n @author Trader Sovryn LB\n @notice This library contains functions to help interaction with bins."},"fullyImplemented":true,"linearizedBaseContracts":[70765],"name":"BinHelper","nameLocation":"643:9:99","scope":70766,"usedErrors":[69855,69857,69859],"usedEvents":[]}],"license":"MIT"},"id":99}